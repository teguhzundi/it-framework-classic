"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};String.prototype.format=function(){return tmp=arguments,this.replace(/\{(\d+)\}/g,function(a,b){return tmp[b]})},Array.prototype.remove=function(a,b){var c=$.grep(this,function(c){return c[a]!==b});return this.length=0,this.push.apply(this,c),this},Array.prototype.insert=function(a,b){this.splice(a,0,b)};function empty(a){return!a}function makeid(){for(var a="",b=0;5>b;b++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".length));return a}function createObject(a){var b=a.xtype,c=null;switch(b){case"button":c=new Button(a);break;case"menu":c=new Menu(a);break;case"toolbar":c=new ToolBar(a);break;case"editor":c=new Editor(a);break;case"combobox":c=new ComboBox(a);break;case"form":c=new Form(a);break;case"textbox":c=new TextBox(a);break;case"checkbox":c=new CheckBox(a);break;case"imagebox":c=new ImageBox(a);break;case"html":c=new HTML(a);break;case"column":c=new Column(a);break;case"flexbox":c=new FlexBox(a);break;case"image":c=new Image(a);break;default:c=null,console.warn(a.xtype+" is not registered.");}return c}function Event(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},c=this;this.events={},this.add=function(a,b){"function"==typeof b&&(this.events[a]=b)},this.getEvents=function(){return this.events},c.fire=function(d,e,f){var f=f||a;c.events.hasOwnProperty(d)&&"function"==typeof c.events[d]&&c.events[d].apply(f,e),b.hasOwnProperty(d)&&"function"==typeof b[d]&&b[d].apply(f,e)},this.set=function(a){var b=this,c={};return $.each(["blur","change","click","dblclick","focus","hover","keydown","keypress","keyup","show","hide"],function(d,f){var g="on"+f.substring(0,1).toUpperCase()+f.substring(1,f.length).toLowerCase();c[g]=function(a){b.add(g,a)},c[f]=function(){a.trigger(f)},a.on(f,function(a){b.fire(g,[a.currentTarget,a]),b.fire(f,[a.currentTarget,a])})}),c}}function DataTable(a){var b=Math.ceil,c=this,d=$.extend({id:"",width:"",height:"",typeTable:"",fixHeader:!1,wrap:!1,store:{type:"json",params:{start:0,limit:20}},css:{},cssInjectRow:{},cssInjectCell:{},columns:[]},a),f=this,e=null,g=""==d.id?makeid():d.id,h=$("\n\t\t<div class=\"it-grid\">\n\t\t\t<div class=\"it-grid-container\">\n\t\t\t\t<div class=\"it-grid-header-fix\"></div>\n\t\t\t\t<div class=\"it-grid-wrapper\">\n\t\t\t\t\t<table border=\"1\" width=\"100%\">\n\t\t\t\t\t\t<thead></thead>\n\t\t\t\t\t\t<tbody></tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<nav class=\"it-grid-pagination\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li> <a href=\"javascript:void(0)\" rel=\"first\"><i class=\"fa fa-caret-left\"></i></a></li>\n\t\t\t\t\t\t<li> <a href=\"javascript:void(0)\" rel=\"back\"><i class=\"fa fa-angle-left\"></i></a></li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<input type=\"text\" class=\"pagination-current\" value=\"1\"> \n\t\t\t\t\t\t\t<span style=\"padding: 0 5px;\">/</span>\n\t\t\t\t\t\t\t<span class=\"pagination-page-count\"></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li> <a href=\"javascript:void(0)\" rel=\"next\"><i class=\"fa fa-angle-right\"></i></a></li>\n\t\t\t\t\t\t<li> <a href=\"javascript:void(0)\" rel=\"last\"><i class=\"fa fa-caret-right\"></i></a></li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tMenampilkan \n\t\t\t\t\t\t\t<span class=\"pagination-show\"></span> dari \n\t\t\t\t\t\t\t<span class=\"pagination-count\"></span> Data\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t</div>\n\t\t</div>\n\t");return h.attr("id",g),h.find(".it-grid-container").addClass(d.typeTable),d.width&&h.width(d.width),d.height&&h.height(d.height),$.isEmptyObject(d.css)||h.css(d.css),this.events=new Event(f,d),this.onItemClick=function(a){return c.events.add("onItemClick",a)},this.onItemDblClick=function(a){return c.events.add("onItemDblClick",a)},this.data=null,this.page=1,this.pageCount=1,this.params=d.store.params,this.selectedRecord=null,this.selectedColumn=null,this.hasTdError=!1,this.store=null,"function"==typeof d.store?(this.store=d.store,this.data=this.store.getData()):this.store=new Store(d.store),this.store.onLoad(function(a,b){f.data=a,f.params=b,f.load()}),this.store.onError(function(a){return alert(a.message),!1}),this.load=function(){0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(f.data){h.find("tbody").empty();var a=f.data.total_rows,d=f.params.start,e=f.params.limit,g=d+e,i=f.data.rows.length;g=g<a?g:a;var j=0<a?d+1+"/"+g:"0",k=b(a/e);f.pageCount=k,h.find(".pagination-show").html(j),h.find(".pagination-count").html(a),h.find(".pagination-page-count").html(k),$.each(c.data.rows,function(a,b){return c.createRows(b)})}},this.loadPage=function(a){this.data&&(this.page=a,this.store.load({params:{start:(a-1)*f.params.limit,limit:f.params.limit}}),h.find(".pagination-current").val(a))},this.getSelectedRow=function(){return this.selectedRecord},this.getRecord=function(a){return this.data&&this.data.rows[a]?this.data.rows[a]:null},this.getSetting=function(){return d},this.getEditedRecords=function(){return this.store.dataChanged},this.setEditable=function(a){var b=this,c=a.data().editor,g=a.find("div"),e=g.text();if(!a.hasClass("it-grid-editing")&&(a.addClass("it-grid-editing"),c)){var i="undefined"!=typeof c.required&&c.required;switch(c.xtype){case"text":if(d.wrap)var j=$("<textarea/>",{class:"it-grid-form-control",val:e,required:i}).height(a.height()-1);else var j=$("<input/>",{class:"it-grid-form-control",type:-1<$.inArray(c.type,["file","radio","checkbox","numeric"])?"text":c.type,val:e,required:i});if(g.html(j),null!=c.minlength&&j.attr("minlength",c.min),null!=c.maxlength&&j.attr("maxlength",c.max),"rupiah"==c.type&&j.keyup(function(){var a=$(this).val().replace(/[^,\d]/g,"").toString(),b=a.split(","),c=b[0].length%3,d=b[0].substr(0,c),e=b[0].substr(c).match(/\d{3}/gi);e&&(separator=c?".":"",d+=separator+e.join(".")),d=null==b[1]?d:d+","+b[1],$(this).val(d)}),"numeric"==c.type){var k=null==c.min?"":c.min,l=null==c.max?"":c.max;j.keyup(function(){var a=$(this).val();k&&a<k&&$(this).val(k),l&&a>l&&$(this).val(l)})}("numeric"==c.type||"rupiah"==c.type)&&j.keypress(function(a){if(8!=a.which&&0!=a.which&&(48>a.which||57<a.which))return!1}),j.blur(function(c){var e=c.target.checkValidity();if(b.hasTdError=!e,e){var h=j.val(),i=f.store.cekData(b.selectedRecord,d.columns[b.selectedColumn].dataIndex,h);g.html(h),a.removeClass("it-grid-editing"),a[i?"addClass":"removeClass"]("it-grid-changed"),c.preventDefault()}else setTimeout(function(){return j.focus()},100)}),j.focus(function(a){return $(a.currentTarget).select()}),j.focus(),j.keyup(),j.keypress(),h.focusout(function(){b.hasTdError&&setTimeout(function(){return j.focus()},100)});}}},this.createRows=function(a){var b=this,c=$("<tr/>",{css:d.cssInjectRow}).appendTo(h.find("tbody"));$.each(d.columns,function(e,f){var g=$("<div/>",{width:"undefined"==typeof f.width?"":f.width,css:{"text-align":"undefined"==typeof f.align?"left":f.align}});g[d.wrap?"addClass":"removeClass"]("wrap");var i="undefined"==typeof a[f.dataIndex]?"":a[f.dataIndex];if(i&&"undefined"!=typeof f.editor&&"checkbox"==f.xtype)$("<input/>",{type:"checkbox",name:f.dataIndex+"[]",val:i,checked:i||"Y"==i}).appendTo(g);else if(f.items)$.each(f.items,function(b,c){var d=createObject(c);d&&(d.extraData=a,d.renderTo(g))});else if(i&&"undefined"!=typeof f.image&&f.image)var j="undefined"==typeof f.url?"":f.url,k=$("<img/>",{src:j+i}).css({height:f.width-10,display:"block",margin:"auto"}).appendTo(g);else{var l=null==f.data?null:f.data;l&&$.each(l,function(a,b){b.key==i&&(i=b.value)}),g.html(i)}var m=$("<td/>",{valign:"undefined"==typeof f.valign?"top":f.valign,align:"undefined"==typeof f.align?"left":f.align,width:"undefined"==typeof f.width?"":f.width,css:d.cssInjectCell}).data(f);m.click(function(){if(!b.hasTdError){h.find("tbody tr").removeClass("it-grid-selected"),c.addClass("it-grid-selected"),b.selectedRecord=m.parent("tr").index(),b.selectedColumn=m.index();var a="undefined"==typeof f.editor?null:f.editor,d="undefined"!=typeof b.store.storeData.rows[b.selectedRecord].locked&&b.store.storeData.rows[b.selectedRecord].locked;a&&!d&&b.setEditable(m),b.events.fire("onItemClick",[b.getRecord(b.getSelectedRow())])}}),m.dblclick(function(){b.events.fire("onItemDblClick",[b.getRecord(b.getSelectedRow())])}),m.append(g),m.appendTo(c)})},this.addRow=function(a){var b=this;this.hasTdError||setTimeout(function(){a=$.extend({},a,{new:!0}),b.store.storeData.rows.push(a),b.createRows(a),h.find("tbody tr:last-child td:first-child").click()},100)},this.removeRow=function(a){this.data.rows.splice(a,1);h.find("tbody > tr:eq("+a+")").fadeOut(100,function(){$(this).remove()})},this.setPage=function(a){if(c.data){var d=b(c.data.total_rows/c.params.limit);"first"===a?1!=c.page&&c.loadPage(1):"last"===a?c.page!=d&&c.loadPage(d):"next"===a?c.page<d&&c.loadPage(c.page+1):"back"===a?1<c.page&&c.loadPage(c.page-1):void 0}},this.renderTo=function(a){var b=$("<tr>");"undefined"==typeof d.customHeader?$.each(d.columns,function(a,c){var d=$("<th/>",{text:c.header,css:{width:c.width}});d.appendTo(b)}):b=$(d.customHeader),h.find("thead").append(b),h.find(".it-grid-pagination")[d.paging?"show":"hide"](),h.find(".it-grid-pagination > ul li > a").click(function(a){if(0<f.store.dataChanged.length&&!f.store.isSaved)var b=new MessageBox({type:"tanya",width:"400",title:"Konfirmasi",message:"Data Berubah Belum di Save, Lanjutkan ?",buttons:[{text:"Ya",handler:function b(){c.store.dataChanged=[],c.store.isSaved=!0,c.setPage($(a.currentTarget).attr("rel"))}},{text:"Tidak",handler:function a(){return b.hide()}}]});else c.setPage($(a.currentTarget).attr("rel"))}),h.find(".it-grid-pagination .pagination-current").keypress(function(a){return!(8!=a.which&&0!=a.which&&(48>a.which||57<a.which))&&void(13==a.which&&$(a.currentTarget).val()&&f.loadPage($(a.currentTarget).val()))}),h.appendTo(a),e=a},this.serializeFromHTML=function(){var a=[];return h.find("tbody tr").each(function(b){var c={};$(this).find("td").each(function(a){d.columns[a].dataIndex&&(c[d.columns[a].dataIndex]=$(this).text())}),a[b]=c}),a},this.getComponent=function(){return h},this}function Grid(a){return console.warn("Grid is depecated. move to DataTable."),new DataTable(a)}function Store(a){var b=$.extend({type:"json",url:"",data:{},params:{start:0,limit:20,orderBy:"",sortBy:""}},a),c=this;c.events=new Event(c,b),c.params={},c.storeData=null,c.dataChanged=[],c.isSaved=!1,c.beforeLoad=function(a){c.events.add("beforeLoad",a)},c.afterLoad=function(a){c.events.add("afterLoad",a)},c.completeLoad=function(a){c.events.add("completeLoad",a)},c.onLoad=function(a){c.events.add("onLoad",a)},c.onError=function(a){c.events.add("onError",a)},c.onChange=function(a){c.events.add("onChange",a)},c.empty=function(){c.dataChanged=[],c.storeData={rows:[],total_rows:0},c.events.fire("onLoad",[c.storeData,c.params])},c.load=function(a){c.events.fire("beforeLoad",[c.storeData]);var a=a||{};switch(b.type){case"json":var d=$.extend(b.params,a.params);c.params=d,c.dataChanged=[],$.ajax({type:"POST",url:b.url,data:d,success:function b(a){"undefined"!=typeof a.rows&&"undefined"!=typeof a.total_rows?(c.storeData=a,c.events.fire("onLoad",[c.storeData,c.params])):(c.storeData={},c.events.fire("onError",[{status:!1,message:"Format Data Tidak Sesuai"}]))},error:function a(){c.events.fire("onError",[{status:!1,message:"Data JSON '"+b.url+"' Tidak Ditemukan"}])},complete:function a(){c.events.fire("afterLoad",[c.storeData]),c.events.fire("completeLoad",["satu","dua"])},dataType:b.type});break;case"array":"undefined"!=typeof b.data.rows&&"undefined"!=typeof b.data.total_rows?(c.storeData=b.data,c.events.fire("onLoad",[c.storeData,c.params])):c.events.fire("onError",[{status:!1,message:"Data JSON Tidak Ditemukan"}]),c.events.fire("afterLoad",[c.storeData]),c.events.fire("completeLoad",["satu","dua"]);}},b.autoLoad&&c.load(),c.searchData=function(a,b,c){for(var d=null,e=0;e<a.length;e++)if(a[e][b]==c){d=e;break}return d};var d=function(a){var b=a.replace(/[$,]/g,"").replace(/\./g,"").replace(/,/g,".").replace(/\%/g,"");return!isNaN(b)},e=function(a){var b=new Date(a);return!isNaN(b)};return c.sort=function(f,g){var g=g,f=f;c.storeData.rows=c.storeData.rows.sort(function(c,a){var b=c[f],h=a[f];return isNaN(b)||isNaN(h)?e(b)&&e(h)?(b=new Date(b),h=new Date(h)):d(b)&&d(h)&&(b=parseFloat(b.replace(/[$,]/g,"").replace(/\./g,"").replace(/,/g,".").replace(/\%/g,"")),h=parseFloat(h.replace(/[$,]/g,"").replace(/\./g,"").replace(/,/g,".").replace(/\%/g,""))):(b=parseFloat(b),h=parseFloat(h)),"Y"==g?b>h:h>b}),c.events.fire("onLoad",[c.storeData,c.params])},c.getParams=function(){return c.params},c.getData=function(){return c.storeData},c.setData=function(a){b.data=a},c.getSetting=function(){return b},c.cekData=function(a,b,d){if($.trim(c.storeData.rows[a][b])!=$.trim(d)){var e=$.extend({indexRow:a},c.storeData.rows[a]);return null==c.searchData(c.dataChanged,"indexRow",a)&&c.dataChanged.push(e),c.dataChanged[c.searchData(c.dataChanged,"indexRow",a)][b]=d,c.events.fire("onChange",[{index:a,data:[c.dataChanged[c.searchData(c.dataChanged,"indexRow",a)]]}]),!0}return null!=c.searchData(c.dataChanged,"indexRow",a)&&(c.dataChanged[c.searchData(c.dataChanged,"indexRow",a)][b]=d),!1},c}function Menu(a){for(var b=$.extend({text:"",direction:"tengah",iconCls:"",disabled:!1,items:[]},a),c=this,d=null,e=makeid(),f=b.items,g=b.disabled?"disabled":"",h=""==b.iconCls?"":"<span class=\"fa fa-"+b.iconCls+"\"></span>",j="<a href=\"#@\" id=\""+e+"\" class=\"it-btn "+g+"\">"+h+" "+b.text+"</a><span class=\"tooDir\" style=\"display:none\"></span><ul data-arah=\""+b.direction+"\"></ul>",k=$(j),l=0;l<f.length;l++)if(null!==f[l]){var m="<li></li>";m=$(m),"function"==typeof f[l].renderTo?f[l].renderTo(m):"object"==_typeof(f[l])&&(item=createObject(f[l]),item.renderTo(m)),k.eq(2).append(m)}return c.renderTo=function(a){k.appendTo(a),d=a,d.click(function(a){var b=$(this),c=b.children("ul"),d="undefined"==typeof c.data("arah")?"tengah":c.data("arah"),e=b.children(".tooDir");c.is(":visible")||($(".it-toolbar div ul").hide(),$(".it-toolbar div a").removeClass("active"),$(".it-toolbar div .tooDir").hide()),0<c.length&&(me_a=c.parent().children("a").outerWidth(),me_b=c.outerWidth(),me_c=e.outerWidth(),"tengah"==d?c.css("left",(me_a-me_b)/2):"kanan"==d&&c.css({left:"auto",right:"5px"}),e.css("left",(me_a-me_c)/2),c.toggle(),e.toggle(),$(this).children("a").toggleClass("active")),a.stopPropagation()}),$(document).click(function(){$(".it-toolbar div ul").hide(),$(".it-toolbar div a").removeClass("active"),$(".it-toolbar div .tooDir").hide()})},c.getSetting=function(){return b},c.getId=function(){return e},c}function ToolBar(a){var b=$.extend({position:"top",items:[]},a),c=null,d=makeid(),e=[],f=$("\n\t\t<nav id=\""+d+"\" class=\"it-toolbar "+("bottom"==b.position?"bottom":"")+"\">\n\t\t\t<ul class=\"it-toolbar-left left\"></ul>\n\t\t\t<ul class=\"it-toolbar-right right\"></ul>\n\t\t</nav>\n\t");return $.each(b.items,function(a,b){var c="undefined"!=typeof b.align&&-1<$.inArray(b.align,["left","right"])?b.align:"left",d=$("<li/>"),g=null;"object"===("undefined"==typeof b?"undefined":_typeof(b))&&(g=createObject(b),g&&(e.push(g.getId()),g.renderTo(d),f.find(".it-toolbar-"+c).append(d)))}),this.renderTo=function(a){f.appendTo(a),c=a},this.getItem=function(a){var b=e[a];return"undefined"==typeof b?null:b},this.getSetting=function(){return b},this.getId=function(){return d},this}function Button(a){var b=this,c=$.extend({iconCls:"",btnCls:"",css:{},disabled:!1,text:"",id:makeid()},a);if(this.extraData={},this.events=new Event(this,c),this.content=$("<a/>",{id:c.id,class:"it-btn",href:"javascript:void(0)",html:c.text}),$.isEmptyObject(c.css)||this.content.css(c.css),c.disabled&&this.content.addClass("disabled"),c.btnCls&&this.content.addClass(c.btnCls),c.iconCls){var d=$("<i/>",{class:"mr-2 fa fa-"+c.iconCls});c.text||d.removeClass("mr-2"),this.content.prepend(d)}return"undefined"==typeof c.handler||c.disabled||(this.content.on("handler",function(d,e,a){c.handler.call(null,e,a)}),this.content.click(function(){b.content.triggerHandler("handler",[b.content,b.extraData])})),$.extend(this,this.events.set(this.content)),this.renderTo=function(a){this.content.appendTo(a),parent=a},this.getSetting=function(){return c},this.getId=function(){return c.id},this}function Dialog(a){var b=this,c=$.extend({width:300,height:100,autoHeight:!0,items:[],padding:5,modal:!0,clear:!1,title:"",iconCls:"",autoShow:!0},a),d=makeid(),e=""==c.iconCls?"":"<span class=\"fa fa-"+c.iconCls+"\"></span>",f=[],g=$("\n\t\t<div class=\"it-dialog\">\n\t\t\t<div class=\"it-dialog-content\">\n\t\t\t\t<div class=\"it-title\">"+e+" "+c.title+"</div> \n\t\t\t\t<div class=\"it-dialog-inner\"></div>\n\t\t\t</div>\n\t\t</div>\n\t");return g.find(".it-dialog-content").width(c.width),g.find(".it-dialog-content").css(c.autoHeight?"min-height":"height",c.height),g.find(".it-dialog-content").css("overflow-y",c.autoHeight?"none":"auto"),g.find(".it-dialog-content").draggable({handle:".it-title",appendTo:"body",start:function a(){$(this).css({"-webkit-transition":"none","-moz-transition":"none","-ms-transition":"none",transition:"none"})}}),this.events=new Event(this,c),this.afterShow=function(a){return b.events.add("afterShow",a)},this.onClose=function(a){return b.events.add("onClose",a)},this.onHide=function(a){return b.events.add("onHide",a)},$.each(c.items,function(a,b){var c=null;"function"==typeof b.renderTo?(b.renderTo(g.find(".it-dialog-inner")),f.push(b)):"object"===("undefined"==typeof b?"undefined":_typeof(b))&&(c=createObject(b),c&&(c.renderTo(g.find(".it-dialog-inner")),f.push(c)))}),this.getItem=function(a){return f[a]},this.getSetting=function(){return c},this.getId=function(){return d},this.hide=function(){g.hide(),this.events.fire("onHide",[])},this.show=function(){this.events.fire("afterShow",[])},this.destroy=function(){console.warn("Dialog .destroy() is deprecated, please use .close()"),this.close()},this.close=function(){var a=this;this.hide(),setTimeout(function(){g.remove(),a.events.fire("onClose",[])},600)},$("body").append(g),c.autoShow&&this.show(),this}function Image(a){var b=$.extend({dataIndex:"",width:100,height:100,src:"",css:{}},a);this.content=$("<img/>",{src:b.src,class:"it-img",attr:{width:b.width,height:b.height}}),$.isEmptyObject(b.css)||this.content.css(b.css),this.setSrc=function(a){return this.content.attr("src",a),this},this.setData=function(a){return this.content.data(a),this},this.getData=function(){return this.content.data()},this.renderTo=function(a){this.content.appendTo(a)},this.getSetting=function(){return b},this.getId=function(){return b.dataIndex}}function Tabs(a){var b=$.extend({items:[],skin:"",css:{},fullscreen:!1},a),c=this,d=null,e=makeid(),f=$("<div/>",{id:makeid(),css:b.css,class:"it-tab"+b.skin}),g=$("<ul/>",{class:"clearfix"});return g.appendTo(f),$.each(b.items,function(b,c){var d="tab_"+e+"_"+b,h="undefined"==typeof c.tabTitle?"Tanpa Judul":c.tabTitle,i=$("<section/>",{id:d}).hide();if(i.appendTo(f),"function"==typeof c.renderTo)c.renderTo(i);else{var j=createObject(c);j.renderTo(i)}var k=$("<li>").appendTo(g),l=$("<a/>",{href:"#"+d,title:h,html:h}).appendTo(k)}),c.renderTo=function(a){var b=f.children("ul").children().children("a"),c=b.first().attr("href");b.removeClass("active"),b.first().addClass("active"),f.find(c).show(),b.click(function(a){b.removeClass("active"),$(c).hide(),b=$(this),b.addClass("active"),c=b.attr("href"),$(c).show(),a.preventDefault()}),a.append(f),d=a},c.getSetting=function(){return b},c.getId=function(){return e},c}function MessageBox(a){var b=this,c=$.extend({type:"info",title:"Judul",message:"",width:450,height:50,buttons:[]},a);if(this.content=$("\n\t\t<div class=\"it-messagebox\">\n\t\t\t<div class=\"it-messagebox-content\">\n\t\t\t\t<div class=\"it-title\">"+c.title+"</div>\n\t\t\t\t<div class=\"it-messagebox-inner\">\n\t\t\t\t\t<div class=\"message-icon "+c.type+"\"></div>\n\t\t\t\t\t"+c.message+"\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clearfix\">\n\t\t\t\t\t<div class=\"float-right message-buttons\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t"),this.content.find(".it-messagebox-content").css({width:c.width,"min-height":c.height}),c.buttons.length)$.each(c.buttons,function(a,c){var d=null==c.btnCls?"":c.btnCls,e=$("<a/>",{href:"javascript:void(0)",html:c.text,class:"it-btn",click:function d(){var a=null==c.handler?null:c.handler;"function"==typeof a?a.call():"string"==typeof a&&window[a](),b.hide()}});e.addClass(d),e.appendTo(b.content.find(".message-buttons"))});else{var d=$("<a/>",{href:"javascript:void(0)",class:"it-btn",html:"OK",click:function a(){b.hide()}});d.appendTo(this.content.find(".message-buttons"))}return this.show=function(){this.content.show()},this.hide=function(){this.content.remove()},this.getSetting=function(){return c},this.getId=function(){return null},this.content.appendTo("body"),setTimeout(function(){return b.show()},100),this}function ComboBox(a){var b=this,c=$.extend({dataIndex:"",value:"",emptyText:"",autoLoad:!0,allowBlank:!0,disabled:!1,readonly:!1,width:"",dataSource:{type:"array",url:"",data:[]}},a),d=c.dataIndex?c.dataIndex:makeid(),e=null,f=$("<select/>",{class:"it-form-control",name:c.dataIndex,id:c.dataIndex});return c.width&&f.width(c.width),c.readOnly&&f.prop("readonly",c.readOnly),c.disabled&&f.prop("disabled",c.disabled),c.allowBlank||f.prop("required",!0),f.blur(function(a){var b=a.target.checkValidity();f[b?"removeClass":"addClass"]("invalid")}),this.events=new Event(this,c),this.events.add("hide",function(){return f.hide()}),this.events.add("show",function(){return f.show()}),this.events.set(f),this.onLoad=function(a){return b.events.add("onLoad",a)},this.getId=function(){return c.dataIndex},this.getDom=function(){return f},this.getSelected=function(){return f.find("option:selected")},this.val=function(a){return"undefined"==typeof a?f.find("option:selected").val():void f.find("option").filter("[value=\""+a+"\"]").prop("selected",!0)},this.getDataSource=function(){var a=this;switch(f.empty(),c.emptyText&&f.append($("<option/>",{val:"",text:c.emptyText})),c.dataSource.type){case"array":var b="undefined"==typeof c.dataSource.data?null:c.dataSource.data;b&&$.each(b,function(a,b){var d="undefined"==typeof b.data?null:b.data;f.append($("<option/>",{val:b.key,html:b.value,selected:b.key==c.value,data:d}))}),this.events.fire("onLoad",[f,b]);break;case"ajax":$.ajax({url:c.dataSource.url,type:c.dataSource.method||"get",data:c.dataSource.params||{},dataType:"json",success:function e(b){var d="undefined"==typeof b.rows?null:b.rows;d&&d.length&&$.each(d,function(a,b){var d="undefined"==typeof b.data?null:b.data;f.append($("<option/>",{val:b.key,html:b.value,selected:b.key==c.value,data:d}))}),a.events.fire("onLoad",[f,d])}});break;default:throw"type only available for ajax and array";}},this.getSettings=function(){return c},this.setEnabled=function(a){f.prop("disabled",!a)},this.setReadOnly=function(a){f.attr("readonly",a)},this.setDataSource=function(a){c.dataSource=a,me.getDataSource()},this.renderTo=function(a){f.appendTo(a),e=a},c.autoLoad&&this.getDataSource(),this}function HTML(a){var b=$.extend({content:"",url:"",id:"",class:"",css:{}},a),c=this,d=""==b.id?makeid():b.id,e=null,f=$("<div/>",{id:d,css:b.css,class:b.class});if(!empty(b.url))f.load(b.url);else if("string"==typeof b.content)f.html(b.content);else{var g="object"===_typeof(b.content)?b.content:$(b.content);g.appendTo(f)}return c.setContent=function(a){f.html(a)},c.renderTo=function(a){f.appendTo(a),e=a},c.getSetting=function(){return b},c.getId=function(){return d},c}function Form(a){var b=$.extend({method:"POST",id:"Fm",url:"",width:"100%",css:{},fieldDefaults:{labelWidth:100,fieldBlock:!1},items:[]},a),c=this,d=null,e={},f=$("<form/>",{method:b.method,action:b.url,name:b.id,id:b.id,enctype:"multipart/form-data",css:b.css});f.width("100%"),f.on("keyup keypress",function(a){var b=a.keyCode||a.which;if(13===b)return a.preventDefault(),!1});$("<input/>",{type:"submit",css:{display:"none"}}).appendTo(f);if(0<b.items.length){var g=$("<table/>",{class:"it-table-form",width:b.width});$.each(b.items,function(a,c){var d="";"undefined"!=typeof c.fieldLabel&&c.fieldLabel&&(b.fieldDefaults.fieldBlock?d="<label>"+c.fieldLabel+"</label>":d="<td width=\""+b.fieldDefaults.labelWidth+"\"><label>"+c.fieldLabel+"</label></td>");var h=$("\n\t\t\t\t<tr>\n\t\t\t\t\t"+d+"\n\t\t\t\t\t<td><div class=\"form-field\"></div></td>\n\t\t\t\t</tr>\n\t\t\t");b.fieldDefaults.fieldBlock&&(h=$("\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td width=\"100%\">\n\t\t\t\t\t\t\t"+d+"\n\t\t\t\t\t\t\t<div class=\"form-field\"></div>\n\t\t\t\t\t\t</td>\t\n\t\t\t\t\t</tr>\n\t\t\t\t"));var i="undefined"!=typeof c.type&&"hidden"==c.type?f:h.find(".form-field");if("function"==typeof c.renderTo)c.renderTo(i),e[c.getId()]=c;else if("object"===("undefined"==typeof c?"undefined":_typeof(c))){var j=createObject(c);if(j.renderTo(i),e[j.getId()]=j,"hidden"==c.type)return!0}h.appendTo(g)}),g.appendTo(f)}return this.setData=function(a){f.autofill(a)},this.getItem=function(a){return e[a]},this.serializeFormData=function(){return new FormData(f[0])},this.serializeJSON=function(){return f.serializeJSON()},this.serialize=function(){return f.serialize()},this.validate=function(){var a=!1;return f.removeAttr("novalidate"),f.find(".it-form-control").blur(),f.find(":submit").click(function(b){a=f[0].checkValidity(),a&&b.preventDefault()}),f.find(":submit").click(),a},this.renderTo=function(a){f.appendTo(a),d=a},this.reset=function(){f[0].reset(),f.find("input[type=\"hidden\"]").val("")},this.getSetting=function(){return b},this.getId=function(){return id},this}function TextBox(a){var b=$.extend({dataIndex:"textfield",type:"text",maxlength:null,minlength:null,format:"",disabled:!1,readOnly:!1,allowBlank:!0,defaultValue:"",placeholder:"",css:{}},a),c=null;this.events=new Event(this,b);var d=null;"textarea"==b.type?d=$("<textarea/>"):(d=$("<input/>",{type:-1<$.inArray(b.type,["text","password","date","email","hidden"])?b.type:"text"}),b.minlength&&d.attr("minlength",b.minlength),b.maxlength&&d.attr("maxlength",b.maxlength),"numeric"==b.type&&d.keypress(function(a){if(8!=a.which&&0!=a.which&&(48>a.which||57<a.which))return!1})),d.attr({name:b.dataIndex,id:b.dataIndex,class:"it-form-control"}),b.placeholder&&d.attr("placeholder",b.placeholder),b.defaultValue&&d.val(b.defaultValue),b.disabled&&d.prop("disabled",b.disabled),b.readOnly&&d.prop("readonly",b.readOnly),b.allowBlank||d.prop("required",!0),$.isEmptyObject(b.css)||d.css(b.css),d.blur(function(a){var b=a.target.checkValidity();d[b?"removeClass":"addClass"]("invalid")});var e=d;return $.extend(this,this.events.set(e)),this.val=function(a){return null==("undefined"==typeof a?"undefined":_typeof(a))?e.val()||"":void e.val(a)},this.renderTo=function(a){e.appendTo(a),c=a},this.getSetting=function(){return b},this.getId=function(){return b.dataIndex},this.setDisabled=function(){var a=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];d.prop("disabled",a)},this.setReadOnly=function(){var a=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];d.prop("disabled",a)},this}function CheckBox(a){var b=$.extend({dataIndex:"textfield",text:"",disabled:!1,newLine:!1,value:"1"},a),c=this,d=null;disabled=0<b.disabled?" disabled ":"";var e="<input type=\"checkbox\" class=\"it-checkbox\" name=\""+b.dataIndex+"\" id=\""+b.dataIndex+"\" value=\""+b.value+"\" "+maxlength+minlength+disabled+"><label class=\"it-label\" for=\""+b.dataIndex+"\">"+b.text+"</label>"+(b.newLine?"<BR>":""),f=$(e);return c.renderTo=function(a){f.appendTo(a),d=a},c.getSetting=function(){return b},c.getId=function(){return b.dataIndex},c}function FlexBox(a){var b=$.extend({id:"",title:"",iconTitle:"",direction:"row",wrap:"",justifyContent:"",css:{},alignItems:"",alignContent:"",items:[]},a),c=this,d=null,e=makeid(),f=b.items;if(c.content=$("<div />",{id:e,class:"it-flex"}),c.content.css(b.css),c.content.addClass("it-flex-dir dir-"+b.direction),c.content.addClass("it-flex-wrap wrap-"+b.wrap),c.content.addClass("it-flex-jc jc-"+b.justifyContent),c.content.addClass("it-flex-ai ai-"+b.alignItems),c.content.addClass("it-flex-ac ac-"+b.alignContent),b.title){var g=$("<div/>",{class:"it-title",html:b.title});g.prepend($("<span/>",{class:"fa"+(b.iconTitle?" fa-"+b.iconTitle:"")})),c.content.append(g)}return $.each(b.items,function(a,b){var d=null;"function"==typeof b.renderTo?b.renderTo(c.content):"object"===("undefined"==typeof b?"undefined":_typeof(b))&&(d=createObject(b),d&&d.renderTo(c.content))}),c.renderTo=function(a){this.content.appendTo(a),d=a},c.getSetting=function(){return b},c.getId=function(){return e},c}function MediaDialog(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},a=$.extend({title:"Ini Media",thumbnailType:"square",sidebar:!0,submitText:"Submit",submit:function a(){}},a),b=$("\n\t\t<div id=\"js-media-dialog\" class=\"cm-media-dialog\">\n\t\t\t<div class=\"cm-media-dialog-wrapper\">\n\t\t\t\t<header class=\"cm-media-dialog-header\">\n\t\t\t\t\t"+a.title+"\n\t\t\t\t\t<div class=\"cm-media-dialog-close\"><i class=\"fa fa-times\"></i></div>\n\t\t\t\t</header>\n\t\t\t\t<article class=\"cm-media-dialog-body\">\n\t\t\t\t\t<main class=\"cm-media-dialog-content\">A</main>\n\t\t\t\t\t<aside class=\"cm-media-dialog-side\">B</aside>\n\t\t\t\t</article>\n\t\t\t\t<footer class=\"cm-media-dialog-footer\">\n\t\t\t\t\t<a href=\"#\" class=\"btn btn-sm btn-primary\">Tesss</a>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t</div>\n\t");$("body").append(b)}function Panel(a){console.warn("Panel is depecated. For the future use FlexBox.");var b=$.extend({iconCls:"",title:"",items:[]},a);return new FlexBox({title:b.title,iconTitle:b.iconCls,direction:"column",items:b.items})}
