"use strict";function empty(t){return!t}function makeid(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function createObject(t){var e=null;switch(t.xtype){case"button":e=new Button(t);break;case"menu":e=new Menu(t);break;case"toolbar":e=new ToolBar(t);break;case"editor":e=new Editor(t);break;case"combobox":e=new ComboBox(t);break;case"form":e=new Form(t);break;case"textbox":e=new TextBox(t);break;case"checkbox":e=new CheckBox(t);break;case"imagebox":e=new ImageBox(t);break;case"html":e=new HTML(t);break;case"column":e=new Column(t);break;case"flexbox":e=new FlexBox(t);break;case"image":e=new Image(t);break;default:e=null,console.warn(t.xtype+" is not registered.")}return e}function Event(a){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=this;this.events={},this.add=function(t,e){"function"==typeof e&&(this.events[t]=e)},this.getEvents=function(){return this.events},o.fire=function(t,e,n){n=n||a;o.events.hasOwnProperty(t)&&"function"==typeof o.events[t]&&o.events[t].apply(n,e),i.hasOwnProperty(t)&&"function"==typeof i[t]&&i[t].apply(n,e)},this.set=function(a){var i=this,o={};return $.each(["blur","change","click","dblclick","focus","hover","keydown","keypress","keyup","show","hide"],function(t,e){var n="on"+e.substring(0,1).toUpperCase()+e.substring(1,e.length).toLowerCase();o[n]=function(t){i.add(n,t)},o[e]=function(){a.trigger(e)},a.on(e,function(t){i.fire(n,[t.currentTarget,t]),i.fire(e,[t.currentTarget,t])})}),o}}function DataTable(t){var s=this,c=$.extend({id:"",width:"",height:"",typeTable:"",fixHeader:!1,wrap:!1,store:{type:"json",params:{start:0,limit:20}},css:{},cssInjectRow:{},cssInjectCell:{},columns:[]},t),l=this,e=""==c.id?makeid():c.id,u=$('\n\t\t<div class="it-grid">\n\t\t\t<div class="it-grid-container">\n\t\t\t\t<div class="it-grid-header-fix"></div>\n\t\t\t\t<div class="it-grid-wrapper">\n\t\t\t\t\t<table border="1" width="100%">\n\t\t\t\t\t\t<thead></thead>\n\t\t\t\t\t\t<tbody></tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<nav class="it-grid-pagination">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li> <a href="javascript:void(0)" rel="first"><i class="fa fa-caret-left"></i></a></li>\n\t\t\t\t\t\t<li> <a href="javascript:void(0)" rel="back"><i class="fa fa-angle-left"></i></a></li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<input type="text" class="pagination-current" value="1"> \n\t\t\t\t\t\t\t<span style="padding: 0 5px;">/</span>\n\t\t\t\t\t\t\t<span class="pagination-page-count"></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li> <a href="javascript:void(0)" rel="next"><i class="fa fa-angle-right"></i></a></li>\n\t\t\t\t\t\t<li> <a href="javascript:void(0)" rel="last"><i class="fa fa-caret-right"></i></a></li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tMenampilkan \n\t\t\t\t\t\t\t<span class="pagination-show"></span> dari \n\t\t\t\t\t\t\t<span class="pagination-count"></span> Data\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t</div>\n\t\t</div>\n\t');return u.attr("id",e),u.find(".it-grid-container").addClass(c.typeTable),c.width&&u.width(c.width),c.height&&u.height(c.height),$.isEmptyObject(c.css)||u.css(c.css),this.events=new Event(l,c),this.onItemClick=function(t){return s.events.add("onItemClick",t)},this.onItemDblClick=function(t){return s.events.add("onItemDblClick",t)},this.data=null,this.page=1,this.pageCount=1,this.params=c.store.params,this.selectedRecord=null,this.selectedColumn=null,this.hasTdError=!1,this.store=null,"function"==typeof c.store?(this.store=c.store,this.data=this.store.getData()):this.store=new Store(c.store),this.store.onLoad(function(t,e){l.data=t,l.params=e,l.load()}),this.store.onError(function(t){return alert(t.message),!1}),this.load=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(l.data){u.find("tbody").empty();var t=l.data.total_rows,e=l.params.start,n=l.params.limit,a=e+n;l.data.rows.length;a=a<t?a:t;var i=0<t?e+1+"/"+a:"0",o=Math.ceil(t/n);l.pageCount=o,u.find(".pagination-show").html(i),u.find(".pagination-count").html(t),u.find(".pagination-page-count").html(o),$.each(s.data.rows,function(t,e){return s.createRows(e)})}},this.loadPage=function(t){this.data&&(this.page=t,this.store.load({params:{start:(t-1)*l.params.limit,limit:l.params.limit}}),u.find(".pagination-current").val(t))},this.getSelectedRow=function(){return this.selectedRecord},this.getRecord=function(t){return this.data&&this.data.rows[t]?this.data.rows[t]:null},this.getSetting=function(){return c},this.getEditedRecords=function(){return this.store.dataChanged},this.setEditable=function(i){var o=this,t=i.data().editor,s=i.find("div"),e=s.text();if(!i.hasClass("it-grid-editing")&&(i.addClass("it-grid-editing"),t)){var n=void 0!==t.required&&t.required;switch(t.xtype){case"text":if(c.wrap)var r=$("<textarea/>",{class:"it-grid-form-control",val:e,required:n}).height(i.height()-1);else r=$("<input/>",{class:"it-grid-form-control",type:-1<$.inArray(t.type,["file","radio","checkbox","numeric"])?"text":t.type,val:e,required:n});if(s.html(r),null!=t.minlength&&r.attr("minlength",t.min),null!=t.maxlength&&r.attr("maxlength",t.max),"rupiah"==t.type&&r.keyup(function(t){var e=$(this).val().replace(/[^,\d]/g,"").toString().split(","),n=e[0].length%3,a=e[0].substr(0,n),i=e[0].substr(n).match(/\d{3}/gi);i&&(separator=n?".":"",a+=separator+i.join(".")),a=null!=e[1]?a+","+e[1]:a,$(this).val(a)}),"numeric"==t.type){var a=null!=t.min?t.min:"",d=null!=t.max?t.max:"";r.keyup(function(){var t=$(this).val();a&&t<a&&$(this).val(a),d&&d<t&&$(this).val(d)})}"numeric"!=t.type&&"rupiah"!=t.type||r.keypress(function(t){if(8!=t.which&&0!=t.which&&(t.which<48||57<t.which))return!1}),r.blur(function(t){var e=t.target.checkValidity();if(o.hasTdError=!e,e){var n=r.val(),a=l.store.cekData(o.selectedRecord,c.columns[o.selectedColumn].dataIndex,n);s.html(n),i.removeClass("it-grid-editing"),i[a?"addClass":"removeClass"]("it-grid-changed"),t.preventDefault()}else setTimeout(function(){return r.focus()},100)}),r.focus(function(t){return $(t.currentTarget).select()}),r.focus(),r.keyup(),r.keypress(),u.focusout(function(t){o.hasTdError&&setTimeout(function(){return r.focus()},100)})}}},this.createRows=function(r){var d=this,l=$("<tr/>",{css:c.cssInjectRow}).appendTo(u.find("tbody"));$.each(c.columns,function(t,a){var i=$("<div/>",{width:void 0!==a.width?a.width:"",css:{"text-align":void 0!==a.align?a.align:"left"}});i[c.wrap?"addClass":"removeClass"]("wrap");var n=void 0!==r[a.dataIndex]?r[a.dataIndex]:"";if(n&&void 0!==a.editor&&"checkbox"==a.xtype)$("<input/>",{type:"checkbox",name:a.dataIndex+"[]",val:n,checked:n||"Y"==n}).appendTo(i);else if(a.items)$.each(a.items,function(t,e){var n=createObject(e);n&&(n.extraData=r,n.renderTo(i))});else if(n&&void 0!==a.image&&a.image){var e=void 0!==a.url?a.url:"";$("<img/>",{src:e+n}).css({height:a.width-10,display:"block",margin:"auto"}).appendTo(i)}else{var o=null!=a.data?a.data:null;o&&$.each(o,function(t,e){e.key==n&&(n=e.value)}),i.html(n)}var s=$("<td/>",{valign:void 0!==a.valign?a.valign:"top",align:void 0!==a.align?a.align:"left",width:void 0!==a.width?a.width:"",css:c.cssInjectCell}).data(a);s.click(function(t){if(!d.hasTdError){u.find("tbody tr").removeClass("it-grid-selected"),l.addClass("it-grid-selected"),d.selectedRecord=s.parent("tr").index(),d.selectedColumn=s.index();var e=void 0!==a.editor?a.editor:null,n=void 0!==d.store.storeData.rows[d.selectedRecord].locked&&d.store.storeData.rows[d.selectedRecord].locked;e&&!n&&d.setEditable(s),d.events.fire("onItemClick",[d.getRecord(d.getSelectedRow())])}}),s.dblclick(function(t){d.events.fire("onItemDblClick",[d.getRecord(d.getSelectedRow())])}),s.append(i),s.appendTo(l)})},this.addRow=function(t){var e=this;this.hasTdError||setTimeout(function(){t=$.extend({},t,{new:!0}),e.store.storeData.rows.push(t),e.createRows(t),u.find("tbody tr:last-child td:first-child").click()},100)},this.removeRow=function(t){this.data.rows.splice(t,1);u.find("tbody > tr:eq("+t+")").fadeOut(100,function(){$(this).remove()})},this.setPage=function(t){if(s.data){var e=Math.ceil(s.data.total_rows/s.params.limit);switch(t){case"first":1!=s.page&&s.loadPage(1);break;case"last":s.page!=e&&s.loadPage(e);break;case"next":s.page<e&&s.loadPage(s.page+1);break;case"back":1<s.page&&s.loadPage(s.page-1)}}},this.renderTo=function(t){var n=$("<tr>");void 0!==c.customHeader?n=$(c.customHeader):$.each(c.columns,function(t,e){$("<th/>",{text:e.header,css:{width:e.width}}).appendTo(n)}),u.find("thead").append(n),u.find(".it-grid-pagination")[c.paging?"show":"hide"](),u.find(".it-grid-pagination > ul li > a").click(function(t){if(0<l.store.dataChanged.length&&!l.store.isSaved)var e=new MessageBox({type:"tanya",width:"400",title:"Konfirmasi",message:"Data Berubah Belum di Save, Lanjutkan ?",buttons:[{text:"Ya",handler:function(){s.store.dataChanged=[],s.store.isSaved=!0,s.setPage($(t.currentTarget).attr("rel"))}},{text:"Tidak",handler:function(){return e.hide()}}]});else s.setPage($(t.currentTarget).attr("rel"))}),u.find(".it-grid-pagination .pagination-current").keypress(function(t){if(8!=t.which&&0!=t.which&&(t.which<48||57<t.which))return!1;13==t.which&&$(t.currentTarget).val()&&l.loadPage($(t.currentTarget).val())}),u.appendTo(t),t},this.serializeFromHTML=function(){var a=[];return u.find("tbody tr").each(function(t,e){var n={};$(this).find("td").each(function(t,e){c.columns[t].dataIndex&&(n[c.columns[t].dataIndex]=$(this).text())}),a[t]=n}),a},this.getComponent=function(){return u},this}function Grid(t){return console.warn("Grid is depecated. move to DataTable."),new DataTable(t)}function Store(t){var n=$.extend({type:"json",url:"",data:{},params:{start:0,limit:20,orderBy:"",sortBy:""}},t),s=this;s.events=new Event(s,n),s.params={},s.storeData=null,s.dataChanged=[],s.isSaved=!1,s.beforeLoad=function(t){s.events.add("beforeLoad",t)},s.afterLoad=function(t){s.events.add("afterLoad",t)},s.completeLoad=function(t){s.events.add("completeLoad",t)},s.onLoad=function(t){s.events.add("onLoad",t)},s.onError=function(t){s.events.add("onError",t)},s.onChange=function(t){s.events.add("onChange",t)},s.empty=function(){s.dataChanged=[],s.storeData={rows:[],total_rows:0},s.events.fire("onLoad",[s.storeData,s.params])},s.load=function(t){s.events.fire("beforeLoad",[s.storeData]);t=t||{};switch(n.type){case"json":var e=$.extend(n.params,t.params);s.params=e,s.dataChanged=[],$.ajax({type:"POST",url:n.url,data:e,success:function(t){void 0!==t.rows&&void 0!==t.total_rows?(s.storeData=t,s.events.fire("onLoad",[s.storeData,s.params])):(s.storeData={},s.events.fire("onError",[{status:!1,message:"Format Data Tidak Sesuai"}]))},error:function(){s.events.fire("onError",[{status:!1,message:"Data JSON '"+n.url+"' Tidak Ditemukan"}])},complete:function(){s.events.fire("afterLoad",[s.storeData]),s.events.fire("completeLoad",["satu","dua"])},dataType:n.type});break;case"array":void 0!==n.data.rows&&void 0!==n.data.total_rows?(s.storeData=n.data,s.events.fire("onLoad",[s.storeData,s.params])):s.events.fire("onError",[{status:!1,message:"Data JSON Tidak Ditemukan"}]),s.events.fire("afterLoad",[s.storeData]),s.events.fire("completeLoad",["satu","dua"])}},n.autoLoad&&s.load(),s.searchData=function(t,e,n){for(var a=null,i=0;i<t.length;i++)if(t[i][e]==n){a=i;break}return a};var r=function(t){var e=t.replace(/[$,]/g,"").replace(/\./g,"").replace(/,/g,".").replace(/\%/g,"");return!isNaN(e)},d=function(t){var e=new Date(t);return!isNaN(e)};return s.sort=function(i,o){o=o,i=i;s.storeData.rows=s.storeData.rows.sort(function(t,e){var n=t[i],a=e[i];return isNaN(n)||isNaN(a)?d(n)&&d(a)?(n=new Date(n),a=new Date(a)):r(n)&&r(a)&&(n=parseFloat(n.replace(/[$,]/g,"").replace(/\./g,"").replace(/,/g,".").replace(/\%/g,"")),a=parseFloat(a.replace(/[$,]/g,"").replace(/\./g,"").replace(/,/g,".").replace(/\%/g,""))):(n=parseFloat(n),a=parseFloat(a)),"Y"==o?a<n:n<a}),s.events.fire("onLoad",[s.storeData,s.params])},s.getParams=function(){return s.params},s.getData=function(){return s.storeData},s.setData=function(t){n.data=t},s.getSetting=function(){return n},s.cekData=function(t,e,n){if($.trim(s.storeData.rows[t][e])!=$.trim(n)){var a=$.extend({indexRow:t},s.storeData.rows[t]);return null==s.searchData(s.dataChanged,"indexRow",t)&&s.dataChanged.push(a),s.dataChanged[s.searchData(s.dataChanged,"indexRow",t)][e]=n,s.events.fire("onChange",[{index:t,data:[s.dataChanged[s.searchData(s.dataChanged,"indexRow",t)]]}]),!0}return null!=s.searchData(s.dataChanged,"indexRow",t)&&(s.dataChanged[s.searchData(s.dataChanged,"indexRow",t)][e]=n),!1},s}function Menu(t){for(var e=$.extend({text:"",direction:"tengah",iconCls:"",disabled:!1,items:[]},t),n=makeid(),a=e.items,i=e.disabled?"disabled":"",o=""!=e.iconCls?'<span class="fa fa-'+e.iconCls+'"></span>':"",s='<a href="#@" id="'+n+'" class="it-btn '+i+'">'+o+" "+e.text+'</a><span class="tooDir" style="display:none"></span><ul data-arah="'+e.direction+'"></ul>',r=$(s),d=0;d<a.length;d++)if(null!==a[d]){var l="<li></li>";l=$(l),"function"==typeof a[d].renderTo?a[d].renderTo(l):"object"==_typeof(a[d])&&(item=createObject(a[d]),item.renderTo(l)),r.eq(2).append(l)}return this.renderTo=function(t){r.appendTo(t),t.click(function(t){var e=$(this),n=e.children("ul"),a=void 0!==n.data("arah")?n.data("arah"):"tengah",i=e.children(".tooDir");n.is(":visible")||($(".it-toolbar div ul").hide(),$(".it-toolbar div a").removeClass("active"),$(".it-toolbar div .tooDir").hide()),0<n.length&&(me_a=n.parent().children("a").outerWidth(),me_b=n.outerWidth(),me_c=i.outerWidth(),"tengah"==a?n.css("left",(me_a-me_b)/2):"kanan"==a&&n.css({left:"auto",right:"5px"}),i.css("left",(me_a-me_c)/2),n.toggle(),i.toggle(),$(this).children("a").toggleClass("active")),t.stopPropagation()}),$(document).click(function(){$(".it-toolbar div ul").hide(),$(".it-toolbar div a").removeClass("active"),$(".it-toolbar div .tooDir").hide()})},this.getSetting=function(){return e},this.getId=function(){return n},this}function ToolBar(t){var e=$.extend({position:"top",items:[]},t),n=makeid(),o=[],s=$('\n\t\t<nav id="'+n+'" class="it-toolbar '+("bottom"==e.position?"bottom":"")+'">\n\t\t\t<ul class="it-toolbar-left left"></ul>\n\t\t\t<ul class="it-toolbar-right right"></ul>\n\t\t</nav>\n\t');return $.each(e.items,function(t,e){var n=void 0!==e.align&&-1<$.inArray(e.align,["left","right"])?e.align:"left",a=$("<li/>"),i=null;"object"===(void 0===e?"undefined":_typeof(e))&&(i=createObject(e))&&(o.push(i.getId()),i.renderTo(a),s.find(".it-toolbar-"+n).append(a))}),this.renderTo=function(t){s.appendTo(t),t},this.getItem=function(t){var e=o[t];return void 0!==e?e:null},this.getSetting=function(){return e},this.getId=function(){return n},this}function Button(t){var e=this,a=$.extend({iconCls:"",btnCls:"",css:{},disabled:!1,text:"",id:makeid()},t);if(this.extraData={},this.events=new Event(this,a),this.content=$("<a/>",{id:a.id,class:"it-btn",href:"javascript:void(0)",html:a.text}),$.isEmptyObject(a.css)||this.content.css(a.css),a.disabled&&this.content.addClass("disabled"),a.btnCls&&this.content.addClass(a.btnCls),a.iconCls){var n=$("<i/>",{class:"mr-2 fa fa-"+a.iconCls});a.text||n.removeClass("mr-2"),this.content.prepend(n)}return void 0===a.handler||a.disabled||(this.content.on("handler",function(t,e,n){a.handler.call(null,e,n)}),this.content.click(function(){e.content.triggerHandler("handler",[e.content,e.extraData])})),$.extend(this,this.events.set(this.content)),this.renderTo=function(t){this.content.appendTo(t),parent=t},this.getSetting=function(){return a},this.getId=function(){return a.id},this}function Dialog(t){var e=this,n=$.extend({width:300,height:100,autoHeight:!0,items:[],padding:5,modal:!0,clear:!1,title:"",iconCls:"",autoShow:!0},t),a=makeid(),i=""!=n.iconCls?'<span class="fa fa-'+n.iconCls+'"></span>':"",o=[],s=$('\n\t\t<div class="it-dialog">\n\t\t\t<div class="it-dialog-content">\n\t\t\t\t<div class="it-title">'+i+" "+n.title+'</div> \n\t\t\t\t<div class="it-dialog-inner"></div>\n\t\t\t</div>\n\t\t</div>\n\t');return s.find(".it-dialog-content").width(n.width),s.find(".it-dialog-content").css(n.autoHeight?"min-height":"height",n.height),s.find(".it-dialog-content").css("overflow-y",n.autoHeight?"none":"auto"),s.find(".it-dialog-content").draggable({handle:".it-title",appendTo:"body",start:function(){$(this).css({"-webkit-transition":"none","-moz-transition":"none","-ms-transition":"none",transition:"none"})}}),this.events=new Event(this,n),this.afterShow=function(t){return e.events.add("afterShow",t)},this.onClose=function(t){return e.events.add("onClose",t)},this.onHide=function(t){return e.events.add("onHide",t)},$.each(n.items,function(t,e){var n=null;"function"==typeof e.renderTo?(e.renderTo(s.find(".it-dialog-inner")),o.push(e)):"object"===(void 0===e?"undefined":_typeof(e))&&(n=createObject(e))&&(n.renderTo(s.find(".it-dialog-inner")),o.push(n))}),this.getItem=function(t){return o[t]},this.getSetting=function(){return n},this.getId=function(){return a},this.hide=function(){s.hide(),this.events.fire("onHide",[])},this.show=function(){this.events.fire("afterShow",[])},this.destroy=function(){console.warn("Dialog .destroy() is deprecated, please use .close()"),this.close()},this.close=function(){var t=this;this.hide(),setTimeout(function(){s.remove(),t.events.fire("onClose",[])},600)},$("body").append(s),n.autoShow&&this.show(),this}function Image(t){var e=$.extend({dataIndex:"",width:100,height:100,src:"",css:{}},t);this.content=$("<img/>",{src:e.src,class:"it-img",attr:{width:e.width,height:e.height}}),$.isEmptyObject(e.css)||this.content.css(e.css),this.setSrc=function(t){return this.content.attr("src",t),this},this.setData=function(t){return this.content.data(t),this},this.getData=function(){return this.content.data()},this.renderTo=function(t){this.content.appendTo(t)},this.getSetting=function(){return e},this.getId=function(){return e.dataIndex}}function Tabs(t){var e=$.extend({items:[],skin:"",css:{},fullscreen:!1},t),s=makeid(),r=$("<div/>",{id:makeid(),css:e.css,class:"it-tab"+e.skin}),d=$("<ul/>",{class:"clearfix"});return d.appendTo(r),$.each(e.items,function(t,e){var n="tab_"+s+"_"+t,a=void 0!==e.tabTitle?e.tabTitle:"Tanpa Judul",i=$("<section/>",{id:n}).hide();(i.appendTo(r),"function"==typeof e.renderTo)?e.renderTo(i):createObject(e).renderTo(i);var o=$("<li>").appendTo(d);$("<a/>",{href:"#"+n,title:a,html:a}).appendTo(o)}),this.renderTo=function(t){var e=r.children("ul").children().children("a"),n=e.first().attr("href");e.removeClass("active"),e.first().addClass("active"),r.find(n).show(),e.click(function(t){e.removeClass("active"),$(n).hide(),(e=$(this)).addClass("active"),n=e.attr("href"),$(n).show(),t.preventDefault()}),t.append(r),t},this.getSetting=function(){return e},this.getId=function(){return s},this}function MessageBox(t){var i=this,e=$.extend({type:"info",title:"Judul",message:"",width:450,height:50,buttons:[]},t);(this.content=$('\n\t\t<div class="it-messagebox">\n\t\t\t<div class="it-messagebox-content">\n\t\t\t\t<div class="it-title">'+e.title+'</div>\n\t\t\t\t<div class="it-messagebox-inner">\n\t\t\t\t\t<div class="message-icon '+e.type+'"></div>\n\t\t\t\t\t'+e.message+'\n\t\t\t\t</div>\n\t\t\t\t<div class="clearfix">\n\t\t\t\t\t<div class="float-right message-buttons"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'),this.content.find(".it-messagebox-content").css({width:e.width,"min-height":e.height}),e.buttons.length)?$.each(e.buttons,function(t,e){var n=null!=e.btnCls?e.btnCls:"",a=$("<a/>",{href:"javascript:void(0)",html:e.text,class:"it-btn",click:function(){var t=null!=e.handler?e.handler:null;"function"==typeof t?t.call():"string"==typeof t&&window[t](),i.hide()}});a.addClass(n),a.appendTo(i.content.find(".message-buttons"))}):$("<a/>",{href:"javascript:void(0)",class:"it-btn",html:"OK",click:function(){i.hide()}}).appendTo(this.content.find(".message-buttons"));return this.show=function(){this.content.show()},this.hide=function(){this.content.remove()},this.getSetting=function(){return e},this.getId=function(){return null},this.content.appendTo("body"),setTimeout(function(){return i.show()},100),this}function ComboBox(t){var e=this,a=$.extend({dataIndex:"",value:"",emptyText:"",autoLoad:!0,allowBlank:!0,disabled:!1,readonly:!1,width:"",dataSource:{type:"array",url:"",data:[]}},t),i=(a.dataIndex?a.dataIndex:makeid(),$("<select/>",{class:"it-form-control",name:a.dataIndex,id:a.dataIndex}));return a.width&&i.width(a.width),a.readOnly&&i.prop("readonly",a.readOnly),a.disabled&&i.prop("disabled",a.disabled),a.allowBlank||i.prop("required",!0),i.blur(function(t){var e=t.target.checkValidity();i[e?"removeClass":"addClass"]("invalid")}),this.events=new Event(this,a),this.events.add("hide",function(){return i.hide()}),this.events.add("show",function(){return i.show()}),this.events.set(i),this.onLoad=function(t){return e.events.add("onLoad",t)},this.getId=function(){return a.dataIndex},this.getDom=function(){return i},this.getSelected=function(){return i.find("option:selected")},this.val=function(t){if(void 0===t)return i.find("option:selected").val();i.find("option").filter('[value="'+t+'"]').prop("selected",!0)},this.getDataSource=function(){var n=this;switch(i.empty(),a.emptyText&&i.append($("<option/>",{val:"",text:a.emptyText})),a.dataSource.type){case"array":var t=void 0!==a.dataSource.data?a.dataSource.data:null;t&&$.each(t,function(t,e){var n=void 0!==e.data?e.data:null;i.append($("<option/>",{val:e.key,html:e.value,selected:e.key==a.value,data:n}))}),this.events.fire("onLoad",[i,t]);break;case"ajax":$.ajax({url:a.dataSource.url,type:a.dataSource.method||"get",data:a.dataSource.params||{},dataType:"json",success:function(t){var e=void 0!==t.rows?t.rows:null;e&&e.length&&$.each(e,function(t,e){var n=void 0!==e.data?e.data:null;i.append($("<option/>",{val:e.key,html:e.value,selected:e.key==a.value,data:n}))}),n.events.fire("onLoad",[i,e])}});break;default:throw"type only available for ajax and array"}},this.getSettings=function(){return a},this.setEnabled=function(t){i.prop("disabled",!t)},this.setReadOnly=function(t){i.attr("readonly",t)},this.setDataSource=function(t){a.dataSource=t,me.getDataSource()},this.renderTo=function(t){i.appendTo(t),t},a.autoLoad&&this.getDataSource(),this}function HTML(t){var e=$.extend({content:"",url:"",id:"",class:"",css:{}},t),n=this,a=""==e.id?makeid():e.id,i=$("<div/>",{id:a,css:e.css,class:e.class});empty(e.url)?"string"==typeof e.content?i.html(e.content):("object"===_typeof(e.content)?e.content:$(e.content)).appendTo(i):i.load(e.url);return n.setContent=function(t){i.html(t)},n.renderTo=function(t){i.appendTo(t),t},n.getSetting=function(){return e},n.getId=function(){return a},n}function Form(t){var s=$.extend({method:"POST",id:"Fm",url:"",width:"100%",css:{},fieldDefaults:{labelWidth:100,fieldBlock:!1},items:[]},t),r={},d=$("<form/>",{method:s.method,action:s.url,name:s.id,id:s.id,enctype:"multipart/form-data",css:s.css});d.width("100%"),d.on("keyup keypress",function(t){if(13===(t.keyCode||t.which))return t.preventDefault(),!1});$("<input/>",{type:"submit",css:{display:"none"}}).appendTo(d);if(0<s.items.length){var l=$("<table/>",{class:"it-table-form",width:s.width});$.each(s.items,function(t,e){var n="";void 0!==e.fieldLabel&&e.fieldLabel&&(n=s.fieldDefaults.fieldBlock?"<label>"+e.fieldLabel+"</label>":'<td width="'+s.fieldDefaults.labelWidth+'"><label>'+e.fieldLabel+"</label></td>");var a=$("\n\t\t\t\t<tr>\n\t\t\t\t\t"+n+'\n\t\t\t\t\t<td><div class="form-field"></div></td>\n\t\t\t\t</tr>\n\t\t\t');s.fieldDefaults.fieldBlock&&(a=$('\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td width="100%">\n\t\t\t\t\t\t\t'+n+'\n\t\t\t\t\t\t\t<div class="form-field"></div>\n\t\t\t\t\t\t</td>\t\n\t\t\t\t\t</tr>\n\t\t\t\t'));var i=void 0!==e.type&&"hidden"==e.type?d:a.find(".form-field");if("function"==typeof e.renderTo)e.renderTo(i),r[e.getId()]=e;else if("object"===(void 0===e?"undefined":_typeof(e))){var o=createObject(e);if(o.renderTo(i),r[o.getId()]=o,"hidden"==e.type)return!0}a.appendTo(l)}),l.appendTo(d)}return this.setData=function(t){d.autofill(t)},this.getItem=function(t){return r[t]},this.serializeFormData=function(){return new FormData(d[0])},this.serializeJSON=function(){return d.serializeJSON()},this.serialize=function(){return d.serialize()},this.validate=function(){var e=!1;return d.removeAttr("novalidate"),d.find(".it-form-control").blur(),d.find(":submit").click(function(t){(e=d[0].checkValidity())&&t.preventDefault()}),d.find(":submit").click(),e},this.renderTo=function(t){d.appendTo(t),t},this.reset=function(){d[0].reset(),d.find('input[type="hidden"]').val("")},this.getSetting=function(){return s},this.getId=function(){return id},this}function TextBox(t){var e=$.extend({dataIndex:"textfield",type:"text",maxlength:null,minlength:null,format:"",disabled:!1,readOnly:!1,allowBlank:!0,defaultValue:"",placeholder:"",css:{}},t);this.events=new Event(this,e);var n=null;return"textarea"==e.type?n=$("<textarea/>"):(n=$("<input/>",{type:-1<$.inArray(e.type,["text","password","date","email","hidden"])?e.type:"text"}),e.minlength&&n.attr("minlength",e.minlength),e.maxlength&&n.attr("maxlength",e.maxlength),"numeric"==e.type&&n.keypress(function(t){if(8!=t.which&&0!=t.which&&(t.which<48||57<t.which))return!1})),n.attr({name:e.dataIndex,id:e.dataIndex,class:"it-form-control"}),e.placeholder&&n.attr("placeholder",e.placeholder),e.defaultValue&&n.val(e.defaultValue),e.disabled&&n.prop("disabled",e.disabled),e.readOnly&&n.prop("readonly",e.readOnly),e.allowBlank||n.prop("required",!0),$.isEmptyObject(e.css)||n.css(e.css),n.blur(function(t){var e=t.target.checkValidity();n[e?"removeClass":"addClass"]("invalid")}),content=n,$.extend(this,this.events.set(content)),this.val=function(t){if(null==(void 0===t?"undefined":_typeof(t)))return content.val()||"";content.val(t)},this.renderTo=function(t){content.appendTo(t),t},this.getSetting=function(){return e},this.getId=function(){return e.dataIndex},this.setDisabled=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];n.prop("disabled",t)},this.setReadOnly=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];n.prop("disabled",t)},this}function CheckBox(t){var e=$.extend({dataIndex:"textfield",text:"",disabled:!1,newLine:!1,value:"1"},t);disabled=0<e.disabled?" disabled ":"";var n='<input type="checkbox" class="it-checkbox" name="'+e.dataIndex+'" id="'+e.dataIndex+'" value="'+e.value+'" '+maxlength+minlength+disabled+'><label class="it-label" for="'+e.dataIndex+'">'+e.text+"</label>"+(e.newLine?"<BR>":""),a=$(n);return this.renderTo=function(t){a.appendTo(t),t},this.getSetting=function(){return e},this.getId=function(){return e.dataIndex},this}function FlexBox(t){var e=$.extend({id:"",title:"",iconTitle:"",direction:"row",wrap:"",justifyContent:"",css:{},alignItems:"",alignContent:"",items:[]},t),a=this,n=makeid();e.items;if(a.content=$("<div />",{id:n,class:"it-flex"}),a.content.css(e.css),a.content.addClass("it-flex-dir dir-"+e.direction),a.content.addClass("it-flex-wrap wrap-"+e.wrap),a.content.addClass("it-flex-jc jc-"+e.justifyContent),a.content.addClass("it-flex-ai ai-"+e.alignItems),a.content.addClass("it-flex-ac ac-"+e.alignContent),e.title){var i=$("<div/>",{class:"it-title",html:e.title});i.prepend($("<span/>",{class:"fa"+(e.iconTitle?" fa-"+e.iconTitle:"")})),a.content.append(i)}return $.each(e.items,function(t,e){var n=null;"function"==typeof e.renderTo?e.renderTo(a.content):"object"===(void 0===e?"undefined":_typeof(e))&&(n=createObject(e))&&n.renderTo(a.content)}),a.renderTo=function(t){this.content.appendTo(t),t},a.getSetting=function(){return e},a.getId=function(){return n},a}function MediaDialog(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(t=$.extend({title:"Ini Media",thumbnailType:"square",sidebar:!0,submitText:"Submit",submit:function(){}},t),$('\n\t\t<div id="js-media-dialog" class="cm-media-dialog">\n\t\t\t<div class="cm-media-dialog-wrapper">\n\t\t\t\t<header class="cm-media-dialog-header">\n\t\t\t\t\t'+t.title+'\n\t\t\t\t\t<div class="cm-media-dialog-close"><i class="fa fa-times"></i></div>\n\t\t\t\t</header>\n\t\t\t\t<article class="cm-media-dialog-body">\n\t\t\t\t\t<main class="cm-media-dialog-content">A</main>\n\t\t\t\t\t<aside class="cm-media-dialog-side">B</aside>\n\t\t\t\t</article>\n\t\t\t\t<footer class="cm-media-dialog-footer">\n\t\t\t\t\t<a href="#" class="btn btn-sm btn-primary">Tesss</a>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t</div>\n\t'));$("body").append(e)}function Panel(t){console.warn("Panel is depecated. For the future use FlexBox.");var e=$.extend({iconCls:"",title:"",items:[]},t);return new FlexBox({title:e.title,iconTitle:e.iconCls,direction:"column",items:e.items})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};String.prototype.format=function(){return tmp=arguments,this.replace(/\{(\d+)\}/g,function(t,e){return tmp[e]})},Array.prototype.remove=function(e,n){var t=$.grep(this,function(t){return t[e]!==n});return this.length=0,this.push.apply(this,t),this},Array.prototype.insert=function(t,e){this.splice(t,0,e)};
//# sourceMappingURL=it-framework-dist.js.map