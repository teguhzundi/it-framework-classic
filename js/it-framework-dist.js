function empty(t){return!t}function makeid(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function createObject(t){var e=null;switch(t.xtype){case"button":e=new Button(t);break;case"menu":e=new Menu(t);break;case"toolbar":e=new ToolBar(t);break;case"editor":e=new Editor(t);break;case"combobox":e=new ComboBox(t);break;case"form":e=new Form(t);break;case"textbox":e=new TextBox(t);break;case"checkbox":e=new CheckBox(t);break;case"imagebox":e=new ImageBox(t);break;case"html":e=new HTML(t);break;case"column":e=new Column(t);break;case"flexbox":e=new FlexBox(t);break;case"image":e=new Image(t);break;default:e=null,console.warn(t.xtype+" is not registered.")}return e}function Event(t,e={}){var a=this;this.events={},this.add=function(t,e){"function"==typeof e&&(this.events[t]=e)},this.getEvents=function(){return this.events},a.fire=function(i,n,s){s=s||t;a.events.hasOwnProperty(i)&&"function"==typeof a.events[i]&&a.events[i].apply(s,n),e.hasOwnProperty(i)&&"function"==typeof e[i]&&e[i].apply(s,n)},this.set=function(t){var e={};return $.each(["blur","change","click","dblclick","focus","hover","keydown","keypress","keyup","show","hide"],(a,i)=>{var n="on"+i.substring(0,1).toUpperCase()+i.substring(1,i.length).toLowerCase();e[n]=(t=>{this.add(n,t)}),e[i]=function(){t.trigger(i)},t.on(i,t=>{this.fire(n,[t.currentTarget,t]),this.fire(i,[t.currentTarget,t])})}),e}}function DataTable(t){var e=$.extend({id:"",width:"",height:"",typeTable:"",fixHeader:!1,wrap:!1,store:{type:"json",params:{start:0,limit:20}},css:{},cssInjectRow:{},cssInjectCell:{},columns:[]},t),a=this,i=null,n=""==e.id?makeid():e.id,s=$('\n\t\t<div class="it-grid">\n\t\t\t<div class="it-grid-container">\n\t\t\t\t<div class="it-grid-header-fix"></div>\n\t\t\t\t<div class="it-grid-wrapper">\n\t\t\t\t\t<table border="1" width="100%">\n\t\t\t\t\t\t<thead></thead>\n\t\t\t\t\t\t<tbody></tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<nav class="it-grid-pagination">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li> <a href="javascript:void(0)" rel="first"><i class="fa fa-caret-left"></i></a></li>\n\t\t\t\t\t\t<li> <a href="javascript:void(0)" rel="back"><i class="fa fa-angle-left"></i></a></li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<input type="text" class="pagination-current" value="1"> \n\t\t\t\t\t\t\t<span style="padding: 0 5px;">/</span>\n\t\t\t\t\t\t\t<span class="pagination-page-count"></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li> <a href="javascript:void(0)" rel="next"><i class="fa fa-angle-right"></i></a></li>\n\t\t\t\t\t\t<li> <a href="javascript:void(0)" rel="last"><i class="fa fa-caret-right"></i></a></li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tMenampilkan \n\t\t\t\t\t\t\t<span class="pagination-show"></span> dari \n\t\t\t\t\t\t\t<span class="pagination-count"></span> Data\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t</div>\n\t\t</div>\n\t');return s.attr("id",n),s.find(".it-grid-container").addClass(e.typeTable),e.width&&s.width(e.width),e.height&&s.height(e.height),$.isEmptyObject(e.css)||s.css(e.css),this.events=new Event(a,e),this.onItemClick=(t=>this.events.add("onItemClick",t)),this.onItemDblClick=(t=>this.events.add("onItemDblClick",t)),this.data=null,this.page=1,this.pageCount=1,this.params=e.store.params,this.selectedRecord=null,this.selectedColumn=null,this.hasTdError=!1,this.store=null,"function"==typeof e.store?(this.store=e.store,this.data=this.store.getData()):this.store=new Store(e.store),this.store.onLoad(function(t,e){a.data=t,a.params=e,a.load()}),this.store.onError(function(t){return alert(t.message),!1}),this.load=((t={})=>{if(a.data){s.find("tbody").empty();var e=a.data.total_rows,i=a.params.start,n=a.params.limit,r=i+n;a.data.rows.length;r=r<e?r:e;var o=e>0?i+1+"/"+r:"0",d=Math.ceil(e/n);a.pageCount=d,s.find(".pagination-show").html(o),s.find(".pagination-count").html(e),s.find(".pagination-page-count").html(d),$.each(this.data.rows,(t,e)=>this.createRows(e))}}),this.loadPage=function(t){this.data&&(this.page=t,this.store.load({params:{start:(t-1)*a.params.limit,limit:a.params.limit}}),s.find(".pagination-current").val(t))},this.getSelectedRow=function(){return this.selectedRecord},this.getRecord=function(t){return this.data&&this.data.rows[t]?this.data.rows[t]:null},this.getSetting=function(){return e},this.getEditedRecords=function(){return this.store.dataChanged},this.setEditable=function(t){var i=t.data().editor,n=t.find("div"),r=n.text();if(!t.hasClass("it-grid-editing")&&(t.addClass("it-grid-editing"),i)){var o=void 0!==i.required&&i.required;switch(i.xtype){case"text":if(e.wrap)l=$("<textarea/>",{class:"it-grid-form-control",val:r,required:o}).height(t.height()-1);else var d=["file","radio","checkbox","numeric"],l=$("<input/>",{class:"it-grid-form-control",type:$.inArray(i.type,d)>-1?"text":i.type,val:r,required:o});if(n.html(l),void 0!=i.minlength&&l.attr("minlength",i.min),void 0!=i.maxlength&&l.attr("maxlength",i.max),"rupiah"==i.type&&l.keyup(function(t){var e=$(this).val().replace(/[^,\d]/g,"").toString().split(","),a=e[0].length%3,i=e[0].substr(0,a),n=e[0].substr(a).match(/\d{3}/gi);n&&(separator=a?".":"",i+=separator+n.join(".")),i=void 0!=e[1]?i+","+e[1]:i,$(this).val(i)}),"numeric"==i.type){var c=void 0!=i.min?i.min:"",h=void 0!=i.max?i.max:"";l.keyup(function(){var t=$(this).val();c&&t<c&&$(this).val(c),h&&t>h&&$(this).val(h)})}"numeric"!=i.type&&"rupiah"!=i.type||l.keypress(function(t){if(8!=t.which&&0!=t.which&&(t.which<48||t.which>57))return!1}),l.blur(i=>{var s=i.target.checkValidity();if(this.hasTdError=!s,s){var r=l.val(),o=a.store.cekData(this.selectedRecord,e.columns[this.selectedColumn].dataIndex,r);n.html(r),t.removeClass("it-grid-editing"),t[o?"addClass":"removeClass"]("it-grid-changed"),i.preventDefault()}else setTimeout(()=>l.focus(),100)}),l.focus(t=>$(t.currentTarget).select()),l.focus(),l.keyup(),l.keypress(),s.focusout(t=>{this.hasTdError&&setTimeout(()=>l.focus(),100)})}}},this.createRows=function(t){var a=$("<tr/>",{css:e.cssInjectRow}).appendTo(s.find("tbody"));$.each(e.columns,(i,n)=>{var r=$("<div/>",{width:void 0!==n.width?n.width:"",css:{"text-align":void 0!==n.align?n.align:"left"}});r[e.wrap?"addClass":"removeClass"]("wrap");var o=void 0!==t[n.dataIndex]?t[n.dataIndex]:"";if(o&&void 0!==n.editor&&"checkbox"==n.xtype)$("<input/>",{type:"checkbox",name:n.dataIndex+"[]",val:o,checked:o||"Y"==o}).appendTo(r);else if(n.items)$.each(n.items,(e,a)=>{var i=createObject(a);i&&(i.extraData=t,i.renderTo(r))});else if(o&&void 0!==n.image&&n.image){var d=void 0!==n.url?n.url:"";$("<img/>",{src:d+o}).css({height:n.width-10,display:"block",margin:"auto"}).appendTo(r)}else{var l=void 0!=n.data?n.data:null;l&&$.each(l,function(t,e){e.key==o&&(o=e.value)}),r.html(o)}var c=$("<td/>",{valign:void 0!==n.valign?n.valign:"top",align:void 0!==n.align?n.align:"left",width:void 0!==n.width?n.width:"",css:e.cssInjectCell}).data(n);c.click(t=>{if(!this.hasTdError){s.find("tbody tr").removeClass("it-grid-selected"),a.addClass("it-grid-selected"),this.selectedRecord=c.parent("tr").index(),this.selectedColumn=c.index();var e=void 0!==n.editor?n.editor:null,i=void 0!==this.store.storeData.rows[this.selectedRecord].locked&&this.store.storeData.rows[this.selectedRecord].locked;e&&!i&&this.setEditable(c),this.events.fire("onItemClick",[this.getRecord(this.getSelectedRow())])}}),c.dblclick(t=>{this.events.fire("onItemDblClick",[this.getRecord(this.getSelectedRow())])}),c.append(r),c.appendTo(a)})},this.addRow=function(t){this.hasTdError||setTimeout(()=>{t=$.extend({},t,{new:!0}),this.store.storeData.rows.push(t),this.createRows(t),s.find("tbody tr:last-child td:first-child").click()},100)},this.removeRow=function(t){this.data.rows.splice(t,1);s.find(`tbody > tr:eq(${t})`).fadeOut(100,function(){$(this).remove()})},this.setPage=(t=>{if(this.data){var e=Math.ceil(this.data.total_rows/this.params.limit);switch(t){case"first":1!=this.page&&this.loadPage(1);break;case"last":this.page!=e&&this.loadPage(e);break;case"next":this.page<e&&this.loadPage(this.page+1);break;case"back":this.page>1&&this.loadPage(this.page-1)}}}),this.renderTo=(t=>{var n=$("<tr>");void 0!==e.customHeader?n=$(e.customHeader):$.each(e.columns,function(t,e){$("<th/>",{text:e.header,css:{width:e.width}}).appendTo(n)}),s.find("thead").append(n),s.find(".it-grid-pagination")[e.paging?"show":"hide"](),s.find(".it-grid-pagination > ul li > a").click(t=>{if(a.store.dataChanged.length>0&&!a.store.isSaved)var e=new MessageBox({type:"tanya",width:"400",title:"Konfirmasi",message:"Data Berubah Belum di Save, Lanjutkan ?",buttons:[{text:"Ya",handler:()=>{this.store.dataChanged=[],this.store.isSaved=!0,this.setPage($(t.currentTarget).attr("rel"))}},{text:"Tidak",handler:()=>e.hide()}]});else this.setPage($(t.currentTarget).attr("rel"))}),s.find(".it-grid-pagination .pagination-current").keypress(t=>{if(8!=t.which&&0!=t.which&&(t.which<48||t.which>57))return!1;13==t.which&&$(t.currentTarget).val()&&a.loadPage($(t.currentTarget).val())}),s.appendTo(t),i=t}),this.serializeFromHTML=function(){var t=[];return s.find("tbody tr").each(function(a,i){var n={};$(this).find("td").each(function(t,a){e.columns[t].dataIndex&&(n[e.columns[t].dataIndex]=$(this).text())}),t[a]=n}),t},this.getComponent=function(){return s},this}function Grid(t){return console.warn("Grid is depecated. move to DataTable."),new DataTable(t)}function Store(t){var e=$.extend({type:"json",url:"",data:{},params:{start:0,limit:20,orderBy:"",sortBy:""}},t),a=this;a.events=new Event(a,e),a.params={},a.storeData=null,a.dataChanged=[],a.isSaved=!1,a.beforeLoad=function(t){a.events.add("beforeLoad",t)},a.afterLoad=function(t){a.events.add("afterLoad",t)},a.completeLoad=function(t){a.events.add("completeLoad",t)},a.onLoad=function(t){a.events.add("onLoad",t)},a.onError=function(t){a.events.add("onError",t)},a.onChange=function(t){a.events.add("onChange",t)},a.empty=function(){a.dataChanged=[],a.storeData={rows:[],total_rows:0},a.events.fire("onLoad",[a.storeData,a.params])},a.load=function(t){a.events.fire("beforeLoad",[a.storeData]);t=t||{};switch(e.type){case"json":var i=$.extend(e.params,t.params);a.params=i,a.dataChanged=[],$.ajax({type:"POST",url:e.url,data:i,success:function(t){void 0!==t.rows&&void 0!==t.total_rows?(a.storeData=t,a.events.fire("onLoad",[a.storeData,a.params])):(a.storeData={},a.events.fire("onError",[{status:!1,message:"Format Data Tidak Sesuai"}]))},error:function(){a.events.fire("onError",[{status:!1,message:"Data JSON '"+e.url+"' Tidak Ditemukan"}])},complete:function(){a.events.fire("afterLoad",[a.storeData]),a.events.fire("completeLoad",["satu","dua"])},dataType:e.type});break;case"array":void 0!==e.data.rows&&void 0!==e.data.total_rows?(a.storeData=e.data,a.events.fire("onLoad",[a.storeData,a.params])):a.events.fire("onError",[{status:!1,message:"Data JSON Tidak Ditemukan"}]),a.events.fire("afterLoad",[a.storeData]),a.events.fire("completeLoad",["satu","dua"])}},e.autoLoad&&a.load(),a.searchData=function(t,e,a){for(var i=null,n=0;n<t.length;n++)if(t[n][e]==a){i=n;break}return i};var i=function(t){var e=t.replace(/[$,]/g,"").replace(/\./g,"").replace(/,/g,".").replace(/\%/g,"");return!isNaN(e)},n=function(t){var e=new Date(t);return!isNaN(e)};return a.sort=function(t,e){var e=e,t=t;a.storeData.rows=a.storeData.rows.sort(function(a,s){var r=a[t],o=s[t];return isNaN(r)||isNaN(o)?n(r)&&n(o)?(r=new Date(r),o=new Date(o)):i(r)&&i(o)&&(r=parseFloat(r.replace(/[$,]/g,"").replace(/\./g,"").replace(/,/g,".").replace(/\%/g,"")),o=parseFloat(o.replace(/[$,]/g,"").replace(/\./g,"").replace(/,/g,".").replace(/\%/g,""))):(r=parseFloat(r),o=parseFloat(o)),"Y"==e?r>o:o>r}),a.events.fire("onLoad",[a.storeData,a.params])},a.getParams=function(){return a.params},a.getData=function(){return a.storeData},a.setData=function(t){e.data=t},a.getSetting=function(){return e},a.cekData=function(t,e,i){if($.trim(a.storeData.rows[t][e])!=$.trim(i)){var n=$.extend({indexRow:t},a.storeData.rows[t]);return null==a.searchData(a.dataChanged,"indexRow",t)&&a.dataChanged.push(n),a.dataChanged[a.searchData(a.dataChanged,"indexRow",t)][e]=i,a.events.fire("onChange",[{index:t,data:[a.dataChanged[a.searchData(a.dataChanged,"indexRow",t)]]}]),!0}return null!=a.searchData(a.dataChanged,"indexRow",t)&&(a.dataChanged[a.searchData(a.dataChanged,"indexRow",t)][e]=i),!1},a}function Menu(t){for(var e=$.extend({text:"",direction:"tengah",iconCls:"",disabled:!1,items:[]},t),a=null,i=makeid(),n=e.items,s=e.disabled?"disabled":"",r=""!=e.iconCls?'<span class="fa fa-'+e.iconCls+'"></span>':"",o='<a href="#@" id="'+i+'" class="it-btn '+s+'">'+r+" "+e.text+'</a><span class="tooDir" style="display:none"></span><ul data-arah="'+e.direction+'"></ul>',d=$(o),l=0;l<n.length;l++)if(null!==n[l]){var c="<li></li>";c=$(c),"function"==typeof n[l].renderTo?n[l].renderTo(c):"object"==typeof n[l]&&(item=createObject(n[l]),item.renderTo(c)),d.eq(2).append(c)}return this.renderTo=function(t){d.appendTo(t),(a=t).click(function(t){var e=$(this),a=e.children("ul"),i=void 0!==a.data("arah")?a.data("arah"):"tengah",n=e.children(".tooDir");a.is(":visible")||($(".it-toolbar div ul").hide(),$(".it-toolbar div a").removeClass("active"),$(".it-toolbar div .tooDir").hide()),a.length>0&&(me_a=a.parent().children("a").outerWidth(),me_b=a.outerWidth(),me_c=n.outerWidth(),"tengah"==i?a.css("left",(me_a-me_b)/2):"kanan"==i&&a.css({left:"auto",right:"5px"}),n.css("left",(me_a-me_c)/2),a.toggle(),n.toggle(),$(this).children("a").toggleClass("active")),t.stopPropagation()}),$(document).click(function(){$(".it-toolbar div ul").hide(),$(".it-toolbar div a").removeClass("active"),$(".it-toolbar div .tooDir").hide()})},this.getSetting=function(){return e},this.getId=function(){return i},this}function ToolBar(t){var e=$.extend({position:"top",items:[]},t),a=null,i=makeid(),n=[],s=$(`\n\t\t<nav id="${i}" class="it-toolbar `+("bottom"==e.position?"bottom":"")+'">\n\t\t\t<ul class="it-toolbar-left left"></ul>\n\t\t\t<ul class="it-toolbar-right right"></ul>\n\t\t</nav>\n\t');return $.each(e.items,(t,e)=>{var a=void 0!==e.align&&$.inArray(e.align,["left","right"])>-1?e.align:"left",i=$("<li/>"),r=null;"object"==typeof e&&(r=createObject(e))&&(n.push(r.getId()),r.renderTo(i),s.find(".it-toolbar-"+a).append(i))}),this.renderTo=function(t){s.appendTo(t),a=t},this.getItem=function(t){var e=n[t];return void 0!==e?e:null},this.getSetting=function(){return e},this.getId=function(){return i},this}function Button(t){var e=$.extend({iconCls:"",btnCls:"",css:{},disabled:!1,text:"",id:makeid()},t);if(this.extraData={},this.events=new Event(this,e),this.content=$("<a/>",{id:e.id,class:"it-btn",href:"javascript:void(0)",html:e.text}),$.isEmptyObject(e.css)||this.content.css(e.css),e.disabled&&this.content.addClass("disabled"),e.btnCls&&this.content.addClass(e.btnCls),e.iconCls){var a=$("<i/>",{class:"mr-2 fa fa-"+e.iconCls});e.text||a.removeClass("mr-2"),this.content.prepend(a)}return void 0===e.handler||e.disabled||(this.content.on("handler",(t,a,i)=>{e.handler.call(null,a,i)}),this.content.click(()=>{this.content.triggerHandler("handler",[this.content,this.extraData])})),$.extend(this,this.events.set(this.content)),this.renderTo=function(t){this.content.appendTo(t),parent=t},this.getSetting=function(){return e},this.getId=function(){return e.id},this}function Dialog(t){var e=$.extend({width:300,height:100,autoHeight:!0,items:[],padding:5,modal:!0,clear:!1,title:"",iconCls:"",autoShow:!0},t),a=makeid(),i=""!=e.iconCls?'<span class="fa fa-'+e.iconCls+'"></span>':"",n=[],s=$(`\n\t\t<div class="it-dialog">\n\t\t\t<div class="it-dialog-content">\n\t\t\t\t<div class="it-title">${i} ${e.title}</div> \n\t\t\t\t<div class="it-dialog-inner"></div>\n\t\t\t</div>\n\t\t</div>\n\t`);return s.find(".it-dialog-content").width(e.width),s.find(".it-dialog-content").css(e.autoHeight?"min-height":"height",e.height),s.find(".it-dialog-content").css("overflow-y",e.autoHeight?"none":"auto"),s.find(".it-dialog-content").draggable({handle:".it-title",appendTo:"body",start:function(){$(this).css({"-webkit-transition":"none","-moz-transition":"none","-ms-transition":"none",transition:"none"})}}),this.events=new Event(this,e),this.afterShow=(t=>this.events.add("afterShow",t)),this.onClose=(t=>this.events.add("onClose",t)),this.onHide=(t=>this.events.add("onHide",t)),$.each(e.items,(t,e)=>{var a=null;"function"==typeof e.renderTo?(e.renderTo(s.find(".it-dialog-inner")),n.push(e)):"object"==typeof e&&(a=createObject(e))&&(a.renderTo(s.find(".it-dialog-inner")),n.push(a))}),this.getItem=function(t){return n[t]},this.getSetting=function(){return e},this.getId=function(){return a},this.hide=function(){s.hide(),this.events.fire("onHide",[])},this.show=function(){this.events.fire("afterShow",[])},this.destroy=function(){console.warn("Dialog .destroy() is deprecated, please use .close()"),this.close()},this.close=function(){this.hide(),setTimeout(()=>{s.remove(),this.events.fire("onClose",[])},600)},$("body").append(s),e.autoShow&&this.show(),this}function Image(t){var e=$.extend({dataIndex:"",width:100,height:100,src:"",css:{}},t);this.content=$("<img/>",{src:e.src,class:"it-img",attr:{width:e.width,height:e.height}}),$.isEmptyObject(e.css)||this.content.css(e.css),this.setSrc=function(t){return this.content.attr("src",t),this},this.setData=function(t){return this.content.data(t),this},this.getData=function(){return this.content.data()},this.renderTo=function(t){this.content.appendTo(t)},this.getSetting=function(){return e},this.getId=function(){return e.dataIndex}}function Tabs(t){var e=$.extend({items:[],skin:"",css:{},fullscreen:!1},t),a=null,i=makeid(),n=$("<div/>",{id:makeid(),css:e.css,class:"it-tab"+e.skin}),s=$("<ul/>",{class:"clearfix"});return s.appendTo(n),$.each(e.items,function(t,e){var a=`tab_${i}_${t}`,r=void 0!==e.tabTitle?e.tabTitle:"Tanpa Judul",o=$("<section/>",{id:a}).hide();if(o.appendTo(n),"function"==typeof e.renderTo)e.renderTo(o);else{createObject(e).renderTo(o)}var d=$("<li>").appendTo(s);$("<a/>",{href:"#"+a,title:r,html:r}).appendTo(d)}),this.renderTo=function(t){var e=n.children("ul").children().children("a"),i=e.first().attr("href");e.removeClass("active"),e.first().addClass("active"),n.find(i).show(),e.click(function(t){e.removeClass("active"),$(i).hide(),(e=$(this)).addClass("active"),i=e.attr("href"),$(i).show(),t.preventDefault()}),t.append(n),a=t},this.getSetting=function(){return e},this.getId=function(){return i},this}function MessageBox(t){var e=$.extend({type:"info",title:"Judul",message:"",width:450,height:50,buttons:[]},t);if(this.content=$(`\n\t\t<div class="it-messagebox">\n\t\t\t<div class="it-messagebox-content">\n\t\t\t\t<div class="it-title">${e.title}</div>\n\t\t\t\t<div class="it-messagebox-inner">\n\t\t\t\t\t<div class="message-icon ${e.type}"></div>\n\t\t\t\t\t${e.message}\n\t\t\t\t</div>\n\t\t\t\t<div class="clearfix">\n\t\t\t\t\t<div class="float-right message-buttons"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`),this.content.find(".it-messagebox-content").css({width:e.width,"min-height":e.height}),e.buttons.length)$.each(e.buttons,(t,e)=>{var a=void 0!=e.btnCls?e.btnCls:"",i=$("<a/>",{href:"javascript:void(0)",html:e.text,class:"it-btn",click:()=>{var t=void 0!=e.handler?e.handler:null;"function"==typeof t?t.call():"string"==typeof t&&window[t](),this.hide()}});i.addClass(a),i.appendTo(this.content.find(".message-buttons"))});else{$("<a/>",{href:"javascript:void(0)",class:"it-btn",html:"OK",click:()=>{this.hide()}}).appendTo(this.content.find(".message-buttons"))}return this.show=function(){this.content.show()},this.hide=function(){this.content.remove()},this.getSetting=function(){return e},this.getId=function(){return null},this.content.appendTo("body"),setTimeout(()=>this.show(),100),this}function ComboBox(t){var e=$.extend({dataIndex:"",value:"",emptyText:"",autoLoad:!0,allowBlank:!0,disabled:!1,readonly:!1,width:"",dataSource:{type:"array",url:"",data:[]}},t),a=(e.dataIndex?e.dataIndex:makeid(),null),i=$("<select/>",{class:"it-form-control",name:e.dataIndex,id:e.dataIndex});return e.width&&i.width(e.width),e.readOnly&&i.prop("readonly",e.readOnly),e.disabled&&i.prop("disabled",e.disabled),e.allowBlank||i.prop("required",!0),i.blur(t=>{var e=t.target.checkValidity();i[e?"removeClass":"addClass"]("invalid")}),this.events=new Event(this,e),this.events.add("hide",()=>i.hide()),this.events.add("show",()=>i.show()),this.events.set(i),this.onLoad=(t=>this.events.add("onLoad",t)),this.getId=function(){return e.dataIndex},this.getDom=function(){return i},this.getSelected=function(){return i.find("option:selected")},this.val=function(t){if(void 0===t)return i.find("option:selected").val();i.find("option").filter('[value="'+t+'"]').prop("selected",!0)},this.getDataSource=function(){switch(i.empty(),e.emptyText&&i.append($("<option/>",{val:"",text:e.emptyText})),e.dataSource.type){case"array":var t=void 0!==e.dataSource.data?e.dataSource.data:null;t&&$.each(t,(t,a)=>{var n=void 0!==a.data?a.data:null;i.append($("<option/>",{val:a.key,html:a.value,selected:a.key==e.value,data:n}))}),this.events.fire("onLoad",[i,t]);break;case"ajax":$.ajax({url:e.dataSource.url,type:e.dataSource.method||"get",data:e.dataSource.params||{},dataType:"json",success:t=>{var a=void 0!==t.rows?t.rows:null;a&&a.length&&$.each(a,(t,a)=>{var n=void 0!==a.data?a.data:null;i.append($("<option/>",{val:a.key,html:a.value,selected:a.key==e.value,data:n}))}),this.events.fire("onLoad",[i,a])}});break;default:throw"type only available for ajax and array"}},this.getSettings=function(){return e},this.setEnabled=function(t){i.prop("disabled",!t)},this.setReadOnly=function(t){i.attr("readonly",t)},this.setDataSource=function(t){e.dataSource=t,me.getDataSource()},this.renderTo=function(t){i.appendTo(t),a=t},e.autoLoad&&this.getDataSource(),this}function HTML(t){var e=$.extend({content:"",url:"",id:"",class:"",css:{}},t),a=this,i=""==e.id?makeid():e.id,n=null,s=$("<div/>",{id:i,css:e.css,class:e.class});if(empty(e.url))if("string"==typeof e.content)s.html(e.content);else{("object"==typeof e.content?e.content:$(e.content)).appendTo(s)}else s.load(e.url);return a.setContent=function(t){s.html(t)},a.renderTo=function(t){s.appendTo(t),n=t},a.getSetting=function(){return e},a.getId=function(){return i},a}function Form(t){var e=$.extend({method:"POST",id:"Fm",url:"",width:"100%",css:{},fieldDefaults:{labelWidth:100,fieldBlock:!1},items:[]},t),a=null,i={},n=$("<form/>",{method:e.method,action:e.url,name:e.id,id:e.id,enctype:"multipart/form-data",css:e.css});n.width("100%"),n.on("keyup keypress",function(t){if(13===(t.keyCode||t.which))return t.preventDefault(),!1});$("<input/>",{type:"submit",css:{display:"none"}}).appendTo(n);if(e.items.length>0){var s=$("<table/>",{class:"it-table-form",width:e.width});$.each(e.items,(t,a)=>{var r="";void 0!==a.fieldLabel&&a.fieldLabel&&(r=e.fieldDefaults.fieldBlock?`<label>${a.fieldLabel}</label>`:`<td width="${e.fieldDefaults.labelWidth}"><label>${a.fieldLabel}</label></td>`);var o=$(`\n\t\t\t\t<tr>\n\t\t\t\t\t${r}\n\t\t\t\t\t<td><div class="form-field"></div></td>\n\t\t\t\t</tr>\n\t\t\t`);e.fieldDefaults.fieldBlock&&(o=$(`\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td width="100%">\n\t\t\t\t\t\t\t${r}\n\t\t\t\t\t\t\t<div class="form-field"></div>\n\t\t\t\t\t\t</td>\t\n\t\t\t\t\t</tr>\n\t\t\t\t`));var d=void 0!==a.type&&"hidden"==a.type?n:o.find(".form-field");if("function"==typeof a.renderTo)a.renderTo(d),i[a.getId()]=a;else if("object"==typeof a){var l=createObject(a);if(l.renderTo(d),i[l.getId()]=l,"hidden"==a.type)return!0}o.appendTo(s)}),s.appendTo(n)}return this.setData=function(t){n.autofill(t)},this.getItem=function(t){return i[t]},this.serializeFormData=function(){return new FormData(n[0])},this.serializeJSON=function(){return n.serializeJSON()},this.serialize=function(){return n.serialize()},this.validate=function(){var t=!1;return n.removeAttr("novalidate"),n.find(".it-form-control").blur(),n.find(":submit").click(e=>{(t=n[0].checkValidity())&&e.preventDefault()}),n.find(":submit").click(),t},this.renderTo=function(t){n.appendTo(t),a=t},this.reset=function(){n[0].reset(),n.find('input[type="hidden"]').val("")},this.getSetting=function(){return e},this.getId=function(){return id},this}function TextBox(t){var e=$.extend({dataIndex:"textfield",type:"text",maxlength:null,minlength:null,format:"",disabled:!1,readOnly:!1,allowBlank:!0,defaultValue:"",placeholder:"",css:{}},t),a=null;this.events=new Event(this,e);var i=["text","password","date","email","hidden"],n=null;"textarea"==e.type?n=$("<textarea/>"):(n=$("<input/>",{type:$.inArray(e.type,i)>-1?e.type:"text"}),e.minlength&&n.attr("minlength",e.minlength),e.maxlength&&n.attr("maxlength",e.maxlength),"numeric"==e.type&&n.keypress(function(t){if(8!=t.which&&0!=t.which&&(t.which<48||t.which>57))return!1})),n.attr({name:e.dataIndex,id:e.dataIndex,class:"it-form-control"}),e.placeholder&&n.attr("placeholder",e.placeholder),e.defaultValue&&n.val(e.defaultValue),e.disabled&&n.prop("disabled",e.disabled),e.readOnly&&n.prop("readonly",e.readOnly),e.allowBlank||n.prop("required",!0),$.isEmptyObject(e.css)||n.css(e.css),n.blur(t=>{var e=t.target.checkValidity();n[e?"removeClass":"addClass"]("invalid")});var s=n;return $.extend(this,this.events.set(s)),this.val=function(t){if(void 0==typeof t)return s.val()||"";s.val(t)},this.renderTo=function(t){s.appendTo(t),a=t},this.getSetting=function(){return e},this.getId=function(){return e.dataIndex},this.setDisabled=function(t=!1){n.prop("disabled",t)},this.setReadOnly=function(t=!1){n.prop("disabled",t)},this}function CheckBox(t){var e=$.extend({dataIndex:"textfield",text:"",disabled:!1,newLine:!1,value:"1"},t),a=null;disabled=e.disabled>0?" disabled ":"";var i='<input type="checkbox" class="it-checkbox" name="'+e.dataIndex+'" id="'+e.dataIndex+'" value="'+e.value+'" '+maxlength+minlength+disabled+'><label class="it-label" for="'+e.dataIndex+'">'+e.text+"</label>"+(e.newLine?"<BR>":""),n=$(i);return this.renderTo=function(t){n.appendTo(t),a=t},this.getSetting=function(){return e},this.getId=function(){return e.dataIndex},this}function FlexBox(t){var e=$.extend({id:"",title:"",iconTitle:"",direction:"row",wrap:"",justifyContent:"",css:{},alignItems:"",alignContent:"",items:[]},t),a=this,i=null,n=makeid();e.items;if(a.content=$("<div />",{id:n,class:"it-flex"}),a.content.css(e.css),a.content.addClass("it-flex-dir dir-"+e.direction),a.content.addClass("it-flex-wrap wrap-"+e.wrap),a.content.addClass("it-flex-jc jc-"+e.justifyContent),a.content.addClass("it-flex-ai ai-"+e.alignItems),a.content.addClass("it-flex-ac ac-"+e.alignContent),e.title){var s=$("<div/>",{class:"it-title",html:e.title});s.prepend($("<span/>",{class:"fa"+(e.iconTitle?" fa-"+e.iconTitle:"")})),a.content.append(s)}return $.each(e.items,(t,e)=>{var i=null;"function"==typeof e.renderTo?e.renderTo(a.content):"object"==typeof e&&(i=createObject(e))&&i.renderTo(a.content)}),a.renderTo=function(t){this.content.appendTo(t),i=t},a.getSetting=function(){return e},a.getId=function(){return n},a}function MediaDialog(t={}){var t=$.extend({title:"Ini Media",thumbnailType:"square",sidebar:!0,submitText:"Submit",submit:function(){}},t),e=$(`\n\t\t<div id="js-media-dialog" class="cm-media-dialog">\n\t\t\t<div class="cm-media-dialog-wrapper">\n\t\t\t\t<header class="cm-media-dialog-header">\n\t\t\t\t\t${t.title}\n\t\t\t\t\t<div class="cm-media-dialog-close"><i class="fa fa-times"></i></div>\n\t\t\t\t</header>\n\t\t\t\t<article class="cm-media-dialog-body">\n\t\t\t\t\t<main class="cm-media-dialog-content">A</main>\n\t\t\t\t\t<aside class="cm-media-dialog-side">B</aside>\n\t\t\t\t</article>\n\t\t\t\t<footer class="cm-media-dialog-footer">\n\t\t\t\t\t<a href="#" class="btn btn-sm btn-primary">Tesss</a>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t</div>\n\t`);$("body").append(e)}function Panel(t){console.warn("Panel is depecated. For the future use FlexBox.");var e=$.extend({iconCls:"",title:"",items:[]},t);return new FlexBox({title:e.title,iconTitle:e.iconCls,direction:"column",items:e.items})}String.prototype.format=function(){return tmp=arguments,this.replace(/\{(\d+)\}/g,function(t,e){return tmp[e]})},Array.prototype.remove=function(t,e){var a=$.grep(this,function(a){return a[t]!==e});return this.length=0,this.push.apply(this,a),this},Array.prototype.insert=function(t,e){this.splice(t,0,e)};